<template><div><h1 id="threejs" tabindex="-1"><a class="header-anchor" href="#threejs" aria-hidden="true">#</a> ThreeJS</h1>
<p><a href="https://threejs.org/" target="_blank" rel="noopener noreferrer">ThreeJS 官网<ExternalLinkIcon/></a></p>
<h2 id="场景-scene" tabindex="-1"><a class="header-anchor" href="#场景-scene" aria-hidden="true">#</a> 场景(Scene)</h2>
<p>下载 ThreeJs 的<a href="https://github.com/mrdoob/three.js/archive/master.zip" target="_blank" rel="noopener noreferrer">代码包<ExternalLinkIcon/></a>，新建 HTML 页面。</p>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">http-equiv</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;X-UA-Compatible&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;IE=edge&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Basic-scene&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">src</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;../min/index.js&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">src</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;./index.js&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>../min/index.js 指的是 ThreeJs 的代码包存放的位置</p>
</div>
<h3 id="新建场景" tabindex="-1"><a class="header-anchor" href="#新建场景" aria-hidden="true">#</a> 新建场景</h3>
<p><a href="https://threejs.org/docs/index.html#api/zh/scenes/Scene" target="_blank" rel="noopener noreferrer">场景<ExternalLinkIcon/></a>能够让你在什么地方、摆放什么东西来交给 three.js 来渲染，这是你放置物体、灯光和摄像机的地方。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">// 场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="几何体" tabindex="-1"><a class="header-anchor" href="#几何体" aria-hidden="true">#</a> 几何体</h3>
<p>几何体可以可以理解为物体形状，这个物体的骨架。<a href="https://threejs.org/docs/index.html#api/zh/geometries/BoxGeometry" target="_blank" rel="noopener noreferrer">BoxGeometry<ExternalLinkIcon/></a>是四边形的原始几何类，它通常使用构造函数所提供的“width”、“height”、“depth”参数来创建立方体或者不规则四边形。</p>
<h4 id="构造器" tabindex="-1"><a class="header-anchor" href="#构造器" aria-hidden="true">#</a> 构造器</h4>
<p>BoxGeometry(width : Float, height : Float, depth : Float, widthSegments : Integer, heightSegments : Integer, depthSegments : Integer)</p>
<ul>
<li>width — X 轴上面的宽度，默认值为 1。</li>
<li>height — Y 轴上面的高度，默认值为 1。</li>
<li>depth — Z 轴上面的深度，默认值为 1。</li>
<li>widthSegments — （可选）宽度的分段数，默认值是 1。</li>
<li>heightSegments — （可选）高度的分段数，默认值是 1。</li>
<li>depthSegments — （可选）深度的分段数，默认值是 1。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">// 原始几何类</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// width — X轴上面的宽度，默认值为1。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// height — Y轴上面的高度，默认值为1。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// depth — Z轴上面的深度，默认值为1。</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="材质" tabindex="-1"><a class="header-anchor" href="#材质" aria-hidden="true">#</a> 材质</h3>
<p><a href="https://threejs.org/docs/index.html#api/zh/materials/MeshBasicMaterial" target="_blank" rel="noopener noreferrer">MeshBasicMaterial<ExternalLinkIcon/></a>是一个以简单着色（平面或线框）方式来绘制几何体的材质，这种材质不受光照的影响。</p>
<h4 id="构造器-1" tabindex="-1"><a class="header-anchor" href="#构造器-1" aria-hidden="true">#</a> 构造器</h4>
<p>MeshBasicMaterial( parameters : Object )</p>
<ul>
<li>
<p>parameters - (可选)用于定义材质外观的对象，具有一个或多个属性。材质的任何属性都可以从此处传入(包括从 Material 继承的任何属性)。</p>
</li>
<li>
<p>属性 color 例外，其可以作为十六进制字符串传递，默认情况下为 <strong>0xffffff</strong>（白色），内部调用 Color.set(color)。</p>
</li>
</ul>
<h3 id="颜色" tabindex="-1"><a class="header-anchor" href="#颜色" aria-hidden="true">#</a> 颜色</h3>
<p><a href="https://threejs.org/docs/index.html#api/zh/math/Color" target="_blank" rel="noopener noreferrer">color<ExternalLinkIcon/></a>表示一个颜色，对 Color 实例进行遍历将按相应的顺序生成它的分量 (r,g,b)，这里的<a href="https://threejs.org/docs/index.html#api/zh/materials/MeshBasicMaterial.color" target="_blank" rel="noopener noreferrer">color<ExternalLinkIcon/></a>指的是 MeshBasicMaterial 的属性。</p>
<h4 id="构造器-2" tabindex="-1"><a class="header-anchor" href="#构造器-2" aria-hidden="true">#</a> 构造器</h4>
<p>Color( r : Color_Hex_or_String, g : Float, b : Float )</p>
<ul>
<li>r - (可选参数) 如果参数 g 和 b 被定义，则 r 表示颜色中的红色分量。 如果未被定义，r 可以是一个十六进制 <a href="https://en.wikipedia.org/wiki/Web_colors#Hex_triplet" target="_blank" rel="noopener noreferrer">hexadecimal triplet<ExternalLinkIcon/></a> 颜色值或 CSS 样式的字符串或一个 Color 实例。</li>
<li>g - (可选参数) 如果被定义，表示颜色中的绿色分量。</li>
<li>b - (可选参数) 如果被定义，表示颜色中的蓝色分量。</li>
</ul>
<p>注意使用十六进制 <a href="https://en.wikipedia.org/wiki/Web_colors#Hex_triplet" target="_blank" rel="noopener noreferrer">hexadecimal triplet<ExternalLinkIcon/></a> 定义一个颜色在 three.js 中是标准的方法，而且其余 文档也将会使用这个方法。</p>
<p>当所有参数被定义时，r 是红色分量，g 是绿色分量，b 是蓝色分量。
当只有 r 被定义时：</p>
<ul>
<li>它可用一个十六进制 <a href="https://en.wikipedia.org/wiki/Web_colors#Hex_triplet" target="_blank" rel="noopener noreferrer">hexadecimal triplet<ExternalLinkIcon/></a> 值表示颜色（推荐）。</li>
<li>它可以是一个另一个颜色实例。</li>
<li>它可以是另外一个 CSS 样式。例如：
<ul>
<li>'rgb(250, 0,0)'</li>
<li>'rgb(100%,0%,0%)'</li>
<li>'hsl(0, 100%, 50%)'</li>
<li>'#ff0000'</li>
<li>'#f00'</li>
<li>'red'</li>
</ul>
</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//材质</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="网格" tabindex="-1"><a class="header-anchor" href="#网格" aria-hidden="true">#</a> 网格</h3>
<p><a href="https://threejs.org/docs/index.html#api/zh/objects/Mesh" target="_blank" rel="noopener noreferrer">网格<ExternalLinkIcon/></a>表示基于以三角形为<a href="https://en.wikipedia.org/wiki/Polygon_mesh" target="_blank" rel="noopener noreferrer">polygon mesh<ExternalLinkIcon/></a>（多边形网格）的物体的类。 同时也作为其他类的基类，例如<a href="https://threejs.org/docs/index.html?q=SkinnedMesh#api/zh/objects/SkinnedMesh" target="_blank" rel="noopener noreferrer">SkinnedMesh<ExternalLinkIcon/></a>。</p>
<h4 id="构造器-3" tabindex="-1"><a class="header-anchor" href="#构造器-3" aria-hidden="true">#</a> 构造器</h4>
<p>Mesh( geometry : BufferGeometry, material : Material )</p>
<ul>
<li>geometry —— （可选）BufferGeometry 的实例，默认值是一个新的 BufferGeometry。</li>
<li>material —— （可选）一个 Material，或是一个包含有 Material 的数组，默认是一个新的 MeshBasicMaterial。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//网格</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>往场景里添加网格</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>尺寸：当做渲染器的尺寸大小，以及透视相机长宽比。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="透视相机" tabindex="-1"><a class="header-anchor" href="#透视相机" aria-hidden="true">#</a> 透视相机</h3>
<p><a href="https://threejs.org/docs/index.html#api/zh/cameras/PerspectiveCamera" target="_blank" rel="noopener noreferrer">透视相机<ExternalLinkIcon/></a>使用<a href="https://en.wikipedia.org/wiki/Perspective_(graphical)" target="_blank" rel="noopener noreferrer">perspective projection<ExternalLinkIcon/></a>（透视投影）来进行投影。这一投影模式被用来模拟人眼所看到的景象，它是 3D 场景的渲染中使用得最普遍的投影模式。</p>
<h4 id="构造器-4" tabindex="-1"><a class="header-anchor" href="#构造器-4" aria-hidden="true">#</a> 构造器</h4>
<p>PerspectiveCamera( fov : Number, aspect : Number, near : Number, far : Number )</p>
<ul>
<li>fov — 摄像机视锥体垂直视野角度</li>
<li>aspect — 摄像机视锥体长宽比</li>
<li>near — 摄像机视锥体近端面</li>
<li>far — 摄像机视锥体远端面</li>
</ul>
<p>这些参数一起定义了摄像机的<a href="https://en.wikipedia.org/wiki/Viewing_frustum" target="_blank" rel="noopener noreferrer">viewing frustum<ExternalLinkIcon/></a>（视锥体）。</p>
<p><img src="E:\Desktop\vuepress\docs\base\images\Three\场景(Scene)\透视图.png" alt=""></p>
<p><img src="E:\Desktop\vuepress\docs\base\images\Three\场景(Scene)\侧视图.png" alt=""></p>
<p>camera.position.z</p>
<ul>
<li>camera 上的 position 继承至 Object3D，<a href="https://threejs.org/docs/#api/zh/core/Object3D.position" target="_blank" rel="noopener noreferrer">position<ExternalLinkIcon/></a>的类型为 Vector3，本身具备 x、<a href="https://threejs.org/docs/#api/zh/math/Vector3.y" target="_blank" rel="noopener noreferrer">y<ExternalLinkIcon/></a>、z 属性，ThreeJS 采用的是右手坐标系。</li>
</ul>
<p><img src="E:\Desktop\vuepress\docs\base\images\Three\场景(Scene)\右手坐标系.jpg" alt=""></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//透视相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//将相机从立方体移除,z轴垂直屏幕</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.x = 2;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.y = 2;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>往场景里添加透视相机</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="渲染器" tabindex="-1"><a class="header-anchor" href="#渲染器" aria-hidden="true">#</a> 渲染器</h3>
<p><a href="https://threejs.org/docs/index.html#api/zh/renderers/WebGLRenderer" target="_blank" rel="noopener noreferrer">WebGLRender<ExternalLinkIcon/></a> 用<a href="https://en.wikipedia.org/wiki/WebGL" target="_blank" rel="noopener noreferrer">WebGL<ExternalLinkIcon/></a>渲染出你精心制作的场景。</p>
<h4 id="构造器-5" tabindex="-1"><a class="header-anchor" href="#构造器-5" aria-hidden="true">#</a> 构造器</h4>
<p>WebGLRenderer( parameters : Object )</p>
<ul>
<li>
<p>parameters - (可选) 该对象的属性定义了渲染器的行为。也可以完全不传参数。在所有情况下，当缺少参数时，它将采用合理的默认值。 以下是合法参数：</p>
<ul>
<li>canvas - 一个供渲染器绘制其输出的<a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas" target="_blank" rel="noopener noreferrer">canvas<ExternalLinkIcon/></a> 它和下面的 domElement 属性对应。 如果没有传这个参数，会创建一个新 canvas</li>
<li>context - 可用于将渲染器附加到已有的渲染环境(<a href="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext" target="_blank" rel="noopener noreferrer">RenderingContext<ExternalLinkIcon/></a>)中。默认值是 null</li>
<li>precision - 着色器精度. 可以是 <strong>&quot;highp&quot;</strong>, <strong>&quot;mediump&quot;</strong> 或者 <strong>&quot;lowp&quot;</strong>. 如果设备支持，默认为**&quot;highp&quot;** .</li>
<li>alpha - controls the default clear alpha value. When set to <strong>true</strong>, the value is <strong>0</strong>. Otherwise it's <strong>1</strong>. Default is <strong>false</strong>.</li>
<li>premultipliedAlpha - renderer 是否假设颜色有 <a href="https://en.wikipedia.org/wiki/Glossary_of_computer_graphics#Premultiplied_alpha" target="_blank" rel="noopener noreferrer">premultiplied alpha<ExternalLinkIcon/></a>. 默认为<strong>true</strong></li>
<li>antialias - 是否执行抗锯齿。默认为<strong>false</strong>.</li>
<li>stencil - 绘图缓存是否有一个至少 8 位的模板缓存(<a href="https://en.wikipedia.org/wiki/Stencil_buffer" target="_blank" rel="noopener noreferrer">stencil buffer<ExternalLinkIcon/></a>)。默认为<strong>true</strong></li>
<li>preserveDrawingBuffer -是否保留缓直到手动清除或被覆盖。 默认<strong>false</strong>.</li>
<li>powerPreference - 提示用户代理怎样的配置更适用于当前 WebGL 环境。 可能是**&quot;high-performance&quot;<strong>, <strong>&quot;low-power&quot;</strong> 或 <strong>&quot;default&quot;</strong>。默认是</strong>&quot;default&quot;**. 详见<a href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.12" target="_blank" rel="noopener noreferrer">WebGL spec<ExternalLinkIcon/></a></li>
<li>failIfMajorPerformanceCaveat - 检测渲染器是否会因性能过差而创建失败。默认为 false。详见 <a href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.12" target="_blank" rel="noopener noreferrer">WebGL spec<ExternalLinkIcon/></a> for details.</li>
<li>depth - 绘图缓存是否有一个至少 6 位的深度缓存(<a href="https://en.wikipedia.org/wiki/Z-buffering" target="_blank" rel="noopener noreferrer">depth buffer<ExternalLinkIcon/></a> )。 默认是<strong>true</strong>.</li>
<li>logarithmicDepthBuffer - 是否使用对数深度缓存。如果要在单个场景中处理巨大的比例差异，就有必要使用。 Note that this setting uses gl_FragDepth if available which disables the <a href="https://www.khronos.org/opengl/wiki/Early_Fragment_Test" target="_blank" rel="noopener noreferrer">Early Fragment Test<ExternalLinkIcon/></a> optimization and can cause a decrease in performance. 默认是<strong>false</strong>。 示例：<a href="https://threejs.org/examples/#webgl_camera_logarithmicdepthbuffer" target="_blank" rel="noopener noreferrer">camera / logarithmicdepthbuffer<ExternalLinkIcon/></a></li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/renderers/WebGLRenderer.setSize" target="_blank" rel="noopener noreferrer">setSize<ExternalLinkIcon/></a> ( width : Integer, height : Integer, updateStyle : Boolean ) : undefined</p>
<ul>
<li>将输出 canvas 的大小调整为(width, height)并考虑设备像素比，且将视口从(0, 0)开始调整到适合大小 将 updateStyle 设置为 false 以阻止对 canvas 的样式做任何改变。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/renderers/WebGLRenderer.render" target="_blank" rel="noopener noreferrer">render<ExternalLinkIcon/></a> ( scene : Object3D, camera : Camera ) : undefined</p>
<ul>
<li>用相机(camera)渲染一个场景(scene)或是其它类型的 object。</li>
<li>渲染一般是在 canvas 上完成的，或者是 renderTarget(如果有指定)</li>
<li>如果 forceClear 值是<strong>true</strong>，那么颜色、深度及模板缓存将会在渲染之前清除，即使渲染器的 autoClear 属性值是 false</li>
<li>即便 forceClear 设为 true, 也可以通过将 autoClearColor、autoClearStencil 或 autoClearDepth 属性的值设为 false 来阻止对应缓存被清除。</li>
</ul>
</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//渲染器</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//设置渲染器大小</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="完整代码" tabindex="-1"><a class="header-anchor" href="#完整代码" aria-hidden="true">#</a> 完整代码</h3>
<h4 id="html" tabindex="-1"><a class="header-anchor" href="#html" aria-hidden="true">#</a> HTML</h4>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">http-equiv</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;X-UA-Compatible&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;IE=edge&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Basic-scene&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">src</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;../min/index.js&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">src</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;./index.js&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">script</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript" tabindex="-1"><a class="header-anchor" href="#javascript" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 原始几何类</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// width — X轴上面的宽度，默认值为1。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// height — Y轴上面的高度，默认值为1。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// depth — Z轴上面的深度，默认值为1。</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//材质</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//网格</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//尺寸</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//camera</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//透视相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//将相机从立方体移除,z轴垂直屏幕</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.x = 2;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.y = 2;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//场景添加相机</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//渲染器</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\场景(Scene)\scene.png" alt="最终效果"></p>
<h2 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack" aria-hidden="true">#</a> WebPack</h2>
<p>使用<a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">WebPack<ExternalLinkIcon/></a>运行项目。</p>
<ul>
<li>下载并安装<a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener noreferrer">Node<ExternalLinkIcon/></a></li>
<li>使用 npm/yarn/pnpm 安装对应的包</li>
<li>使用 num run dev/yarn dev 运行项目</li>
</ul>
<h3 id="配置" tabindex="-1"><a class="header-anchor" href="#配置" aria-hidden="true">#</a> 配置</h3>
<div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>配置文件在 bundler 文件夹下</p>
</div>
<h4 id="webpack-common-js" tabindex="-1"><a class="header-anchor" href="#webpack-common-js" aria-hidden="true">#</a> webpack.common.js</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">CopyWebpackPlugin</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;copy-webpack-plugin&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">HtmlWebpackPlugin</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;html-webpack-plugin&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">MiniCSSExtractPlugin</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;mini-css-extract-plugin&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">path</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;path&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">module</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">exports</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">entry</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">path</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">resolve</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">__dirname</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;../src/script.js&#39;</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">output</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">hashFunction</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;xxhash64&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">filename</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;bundle.[contenthash].js&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">path</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">path</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">resolve</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">__dirname</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;../dist&#39;</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">devtool</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;source-map&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">plugins</span><span style="color: #ABB2BF">: [</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">CopyWebpackPlugin</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">patterns</span><span style="color: #ABB2BF">: [{ </span><span style="color: #E06C75">from</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">path</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">resolve</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">__dirname</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;../static&#39;</span><span style="color: #ABB2BF">) }],</span></span>
<span class="line"><span style="color: #ABB2BF">    }),</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">HtmlWebpackPlugin</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">template</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">path</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">resolve</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">__dirname</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;../src/index.html&#39;</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">minify</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    }),</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">MiniCSSExtractPlugin</span><span style="color: #ABB2BF">(),</span></span>
<span class="line"><span style="color: #ABB2BF">  ],</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">module</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">rules</span><span style="color: #ABB2BF">: [</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">// HTML</span></span>
<span class="line"><span style="color: #ABB2BF">      {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">test</span><span style="color: #ABB2BF">:</span><span style="color: #E06C75"> /</span><span style="color: #E5C07B">\.</span><span style="color: #E06C75">(html)</span><span style="color: #C678DD">$</span><span style="color: #E06C75">/</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">use</span><span style="color: #ABB2BF">: [</span><span style="color: #98C379">&#39;html-loader&#39;</span><span style="color: #ABB2BF">],</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">// JS</span></span>
<span class="line"><span style="color: #ABB2BF">      {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">test</span><span style="color: #ABB2BF">:</span><span style="color: #E06C75"> /</span><span style="color: #E5C07B">\.</span><span style="color: #E06C75">js</span><span style="color: #C678DD">$</span><span style="color: #E06C75">/</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">exclude</span><span style="color: #ABB2BF">:</span><span style="color: #E06C75"> /node_modules/</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">use</span><span style="color: #ABB2BF">: [</span><span style="color: #98C379">&#39;babel-loader&#39;</span><span style="color: #ABB2BF">],</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">// CSS</span></span>
<span class="line"><span style="color: #ABB2BF">      {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">test</span><span style="color: #ABB2BF">:</span><span style="color: #E06C75"> /</span><span style="color: #E5C07B">\.</span><span style="color: #E06C75">css</span><span style="color: #C678DD">$</span><span style="color: #E06C75">/</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">use</span><span style="color: #ABB2BF">: [</span><span style="color: #E5C07B">MiniCSSExtractPlugin</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">loader</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;css-loader&#39;</span><span style="color: #ABB2BF">],</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">// Images</span></span>
<span class="line"><span style="color: #ABB2BF">      {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">test</span><span style="color: #ABB2BF">:</span><span style="color: #E06C75"> /</span><span style="color: #E5C07B">\.</span><span style="color: #E06C75">(jpg</span><span style="color: #ABB2BF">|</span><span style="color: #E06C75">png</span><span style="color: #ABB2BF">|</span><span style="color: #E06C75">gif</span><span style="color: #ABB2BF">|</span><span style="color: #E06C75">svg)</span><span style="color: #C678DD">$</span><span style="color: #E06C75">/</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">type</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;asset/resource&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">generator</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">filename</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;assets/images/[hash][ext]&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        },</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #7F848E; font-style: italic">// Fonts</span></span>
<span class="line"><span style="color: #ABB2BF">      {</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">test</span><span style="color: #ABB2BF">:</span><span style="color: #E06C75"> /</span><span style="color: #E5C07B">\.</span><span style="color: #E06C75">(ttf</span><span style="color: #ABB2BF">|</span><span style="color: #E06C75">eot</span><span style="color: #ABB2BF">|</span><span style="color: #E06C75">woff</span><span style="color: #ABB2BF">|</span><span style="color: #E06C75">woff2)</span><span style="color: #C678DD">$</span><span style="color: #E06C75">/</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">type</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;asset/resource&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #E06C75">generator</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">filename</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;assets/fonts/[hash][ext]&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">        },</span></span>
<span class="line"><span style="color: #ABB2BF">      },</span></span>
<span class="line"><span style="color: #ABB2BF">    ],</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="webpack-dev-js" tabindex="-1"><a class="header-anchor" href="#webpack-dev-js" aria-hidden="true">#</a> webpack.dev.js</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">path</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;path&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">merge</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;webpack-merge&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">commonConfiguration</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;./webpack.common.js&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">portFinderSync</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;portfinder-sync&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">infoColor</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">_message</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`</span><span style="color: #E5C07B">\u001b</span><span style="color: #98C379">[1m</span><span style="color: #E5C07B">\u001b</span><span style="color: #98C379">[34m</span><span style="color: #C678DD">${</span><span style="color: #E06C75">_message</span><span style="color: #C678DD">}</span><span style="color: #E5C07B">\u001b</span><span style="color: #98C379">[39m</span><span style="color: #E5C07B">\u001b</span><span style="color: #98C379">[22m`</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">module</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">exports</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">merge</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">commonConfiguration</span><span style="color: #ABB2BF">, {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">stats</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;errors-warnings&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">mode</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;development&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">infrastructureLogging</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">level</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;warn&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">devServer</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">host</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;local-ip&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">port</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">portFinderSync</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getPort</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">8080</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">open</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">https</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">allowedHosts</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;all&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">hot</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">watchFiles</span><span style="color: #ABB2BF">: [</span><span style="color: #98C379">&#39;src/**&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;static/**&#39;</span><span style="color: #ABB2BF">],</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">static</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">watch</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">directory</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">path</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">join</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">__dirname</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;../static&#39;</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">client</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">logging</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;none&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">overlay</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E06C75">progress</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #61AFEF">setupMiddlewares</span><span style="color: #ABB2BF">: </span><span style="color: #C678DD">function</span><span style="color: #ABB2BF"> (</span><span style="color: #E06C75; font-style: italic">middlewares</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75; font-style: italic">devServer</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #98C379">&#39;------------------------------------------------------------&#39;</span></span>
<span class="line"><span style="color: #ABB2BF">      );</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">devServer</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">options</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">host</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">port</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">devServer</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">options</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">port</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">https</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">devServer</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">options</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">https</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">?</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;s&#39;</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">:</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">domain1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`http</span><span style="color: #C678DD">${</span><span style="color: #E06C75">https</span><span style="color: #C678DD">}</span><span style="color: #98C379">://</span><span style="color: #C678DD">${</span><span style="color: #E5C07B">devServer</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">options</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">host</span><span style="color: #C678DD">}</span><span style="color: #98C379">:</span><span style="color: #C678DD">${</span><span style="color: #E06C75">port</span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">domain2</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">`http</span><span style="color: #C678DD">${</span><span style="color: #E06C75">https</span><span style="color: #C678DD">}</span><span style="color: #98C379">://localhost:</span><span style="color: #C678DD">${</span><span style="color: #E06C75">port</span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">        </span><span style="color: #98C379">`Project running at:</span><span style="color: #E5C07B">\n</span><span style="color: #98C379">  - </span><span style="color: #C678DD">${</span><span style="color: #61AFEF">infoColor</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">domain1</span><span style="color: #ABB2BF">)</span><span style="color: #C678DD">}</span><span style="color: #E5C07B">\n</span><span style="color: #98C379">  - </span><span style="color: #C678DD">${</span><span style="color: #61AFEF">infoColor</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">          </span><span style="color: #E06C75">domain2</span></span>
<span class="line"><span style="color: #ABB2BF">        )</span><span style="color: #C678DD">}</span><span style="color: #98C379">`</span></span>
<span class="line"><span style="color: #ABB2BF">      );</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #C678DD">return</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">middlewares</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">    },</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="webpack-prod-js" tabindex="-1"><a class="header-anchor" href="#webpack-prod-js" aria-hidden="true">#</a> webpack.prod.js</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">merge</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;webpack-merge&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">commonConfiguration</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;./webpack.common.js&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> { </span><span style="color: #E5C07B">CleanWebpackPlugin</span><span style="color: #ABB2BF"> } </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">require</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;clean-webpack-plugin&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">module</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">exports</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">merge</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">commonConfiguration</span><span style="color: #ABB2BF">, {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">mode</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&#39;production&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">plugins</span><span style="color: #ABB2BF">: [</span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">CleanWebpackPlugin</span><span style="color: #ABB2BF">()],</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="scripts-命令" tabindex="-1"><a class="header-anchor" href="#scripts-命令" aria-hidden="true">#</a> scripts 命令</h3>
<p>配置 package.json 中的 scripts 命令。</p>
<div class="language-json ext-json line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">{</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">&quot;scripts&quot;</span><span style="color: #ABB2BF">: {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">&quot;build&quot;</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&quot;webpack --config ./bundler/webpack.prod.js&quot;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E06C75">&quot;dev&quot;</span><span style="color: #ABB2BF">: </span><span style="color: #98C379">&quot;webpack serve --config ./bundler/webpack.dev.js&quot;</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="完整代码-1" tabindex="-1"><a class="header-anchor" href="#完整代码-1" aria-hidden="true">#</a> 完整代码</h3>
<h4 id="html-1" tabindex="-1"><a class="header-anchor" href="#html-1" aria-hidden="true">#</a> HTML</h4>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Webpack&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript-1" tabindex="-1"><a class="header-anchor" href="#javascript-1" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">// 引入的是node_modules里的包</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 原始几何类</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// width — X轴上面的宽度，默认值为1。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// height — Y轴上面的高度，默认值为1。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// depth — Z轴上面的深度，默认值为1。</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//材质</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//网格</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//尺寸</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//camera</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//透视相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//将相机从立方体移除,z轴垂直屏幕</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.x = 2;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.y = 2;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//场景添加相机</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//渲染器</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\WebPack\index.png" alt=""></p>
<h2 id="转换对象" tabindex="-1"><a class="header-anchor" href="#转换对象" aria-hidden="true">#</a> 转换对象</h2>
<h3 id="三维物体" tabindex="-1"><a class="header-anchor" href="#三维物体" aria-hidden="true">#</a> 三维物体</h3>
<p><a href="https://threejs.org/docs/#api/zh/core/Object3D" target="_blank" rel="noopener noreferrer">Object3D<ExternalLinkIcon/></a>是 Three.js 中大部分对象的基类，提供了一系列的属性和方法来对三维空间中的物体进行操纵。请注意，可以通过.add( object )方法来将对象进行组合，该方法将对象添加为子对象，但为此最好使用 Group（来作为父对象）。</p>
<div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>从<a href="https://threejs.org/docs/#api/zh/core/Object3D" target="_blank" rel="noopener noreferrer">Object3D<ExternalLinkIcon/></a>类继承的所有类都具有<a href="https://threejs.org/docs/#api/zh/cameras/PerspectiveCamera" target="_blank" rel="noopener noreferrer">透视相机<ExternalLinkIcon/></a>或<a href="https://threejs.org/docs/#api/zh/objects/Mesh" target="_blank" rel="noopener noreferrer">网格<ExternalLinkIcon/></a>等属性以及尚未介绍的类。</p>
</div>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 对象</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="位置" tabindex="-1"><a class="header-anchor" href="#位置" aria-hidden="true">#</a> 位置</h4>
<p><a href="https://threejs.org/docs/#api/zh/math/Vector3" target="_blank" rel="noopener noreferrer">Vector3<ExternalLinkIcon/></a>( x : Float, y : Float, z : Float )</p>
<ul>
<li>x - 向量的 x 值，默认为<strong>0</strong>。</li>
<li>y - 向量的 y 值，默认为<strong>0</strong>。</li>
<li>z - 向量的 z 值，默认为<strong>0</strong>。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/core/Object3D.position" target="_blank" rel="noopener noreferrer">position<ExternalLinkIcon/></a> : Vector3</p>
<ul>
<li>表示对象局部位置的 Vector3，默认值为(0, 0, 0)，它是 Object3D 的属性。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/math/Vector3.set" target="_blank" rel="noopener noreferrer">set<ExternalLinkIcon/></a> ( x : Float, y : Float, z : Float ) : this</p>
<ul>
<li>设置该向量的 x、y 和 z 分量，它是 Vector3 的方法。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">// x轴向右 y轴向上 z轴垂直平面向外</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.position.x = 0.7;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.position.y = -0.6;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.position.z = 1;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//一次性设置x、y、z x大于0,物体向右移动;y大于0,物体向上移动;z大于0,可能是往摄像头靠近。</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.7</span><span style="color: #ABB2BF">, </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">0.6</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\transform-objects\Mesh_Position.png" alt="Mesh_Position"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//x大于0,物体向右移动;y大于0,物体向上移动;z大于0,可能是往摄像头靠近。</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.7</span><span style="color: #ABB2BF">, </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">0.6</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="缩放" tabindex="-1"><a class="header-anchor" href="#缩放" aria-hidden="true">#</a> 缩放</h4>
<p><a href="https://threejs.org/docs/#api/zh/core/Object3D.scale" target="_blank" rel="noopener noreferrer">scale<ExternalLinkIcon/></a> : <a href="https://threejs.org/docs/#api/zh/math/Vector3" target="_blank" rel="noopener noreferrer">Vector3<ExternalLinkIcon/></a></p>
<ul>
<li>物体的局部缩放，默认值是 Vector3( 1, 1, 1 )，它是 Object3D 的属性。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//scale</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.scale.x = 2;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.scale.y = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.scale.z = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//一次性设置scale  z小于1是往里面缩放,平面缩放</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">scale</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\transform-objects\Mesh_Scale.png" alt="Mesh_Scale"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.7</span><span style="color: #ABB2BF">, </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">0.6</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//z小于1是往里面缩放,平面缩放</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">scale</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="欧拉角" tabindex="-1"><a class="header-anchor" href="#欧拉角" aria-hidden="true">#</a> 欧拉角</h3>
<p><a href="https://threejs.org/docs/#api/zh/math/Euler.order" target="_blank" rel="noopener noreferrer">欧拉角<ExternalLinkIcon/></a>表示 <a href="http://en.wikipedia.org/wiki/Euler_angles" target="_blank" rel="noopener noreferrer">Euler<ExternalLinkIcon/></a> 的类，欧拉角描述一个旋转变换，通过指定轴顺序和其各个轴向上的指定旋转角度来旋转一个物体。对 Euler 实例进行遍历将按相应的顺序生成它的分量 (x, y, z, order)。</p>
<h4 id="构造器-6" tabindex="-1"><a class="header-anchor" href="#构造器-6" aria-hidden="true">#</a> 构造器</h4>
<p>Euler( x : Float, y : Float, z : Float, order : String )</p>
<ul>
<li>x - (optional) 用弧度表示 x 轴旋转量。 默认值是 <strong>0</strong>。</li>
<li>y - (optional) 用弧度表示 y 轴旋转量。 默认值是 <strong>0</strong>。</li>
<li>z - (optional) 用弧度表示 z 轴旋转量。 默认值是 <strong>0</strong>。</li>
<li>order - (optional) 表示旋转顺序的字符串，默认为'XYZ'（必须是大写）。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/math/Euler.reorder" target="_blank" rel="noopener noreferrer">reorder<ExternalLinkIcon/></a> ( newOrder : String ) : this</p>
<ul>
<li>通过这个欧拉角创建一个四元数，然后用这个四元数和新顺序设置这个欧拉角。</li>
</ul>
<div class="custom-container warning"><p class="custom-container-title">WARNING</p>
<p>这将弃用旋转信息。</p>
</div>
<p><a href="https://threejs.org/docs/#api/zh/math/Euler.set" target="_blank" rel="noopener noreferrer">set<ExternalLinkIcon/></a> ( x : Float, y : Float, z : Float, order : String ) : this</p>
<ul>
<li>x - 用弧度表示 x 轴旋转量。</li>
<li>y - 用弧度表示 y 轴旋转量。</li>
<li>z - 用弧度表示 z 轴旋转量。</li>
<li>order - (optional) 表示旋转顺序的字符串。</li>
</ul>
<p>设置该欧拉变换的角度和旋转顺序 order。</p>
<h4 id="四元数" tabindex="-1"><a class="header-anchor" href="#四元数" aria-hidden="true">#</a> 四元数</h4>
<p>该类实现了 <a href="http://en.wikipedia.org/wiki/Quaternion" target="_blank" rel="noopener noreferrer">quaternion<ExternalLinkIcon/></a> 。</p>
<p>四元数在 three.js 中用于表示 <a href="https://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation" target="_blank" rel="noopener noreferrer">rotation<ExternalLinkIcon/></a> （旋转）。</p>
<p>对 Quaternion 实例进行遍历将按相应的顺序生成它的分量 (x, y, z, w)。</p>
<h5 id="构造函数" tabindex="-1"><a class="header-anchor" href="#构造函数" aria-hidden="true">#</a> 构造函数</h5>
<p>Quaternion( x : Float, y : Float, z : Float, w : Float )</p>
<ul>
<li>x - x 坐标</li>
<li>y - y 坐标</li>
<li>z - z 坐标</li>
<li>w - w 坐标</li>
</ul>
<h4 id="旋转" tabindex="-1"><a class="header-anchor" href="#旋转" aria-hidden="true">#</a> 旋转</h4>
<p><a href="https://threejs.org/docs/?q=Obje#api/zh/core/Object3D.rotation" target="_blank" rel="noopener noreferrer">rotation<ExternalLinkIcon/></a> : Euler（请参阅<a href="https://en.wikipedia.org/wiki/Euler_angles" target="_blank" rel="noopener noreferrer">Euler angles<ExternalLinkIcon/></a>-欧拉角）</p>
<ul>
<li>物体的局部旋转，以弧度来表示，，它是 Object3D 的属性。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//Rotation</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 旋转顺序 欧拉角方法</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">reorder</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;YXZ&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 旋转半个圆 欧拉角属性</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\transform-objects\rotation.png" alt="rotation"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.7</span><span style="color: #ABB2BF">, </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">0.6</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">scale</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//Rotation</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 旋转顺序 欧拉角方法</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">reorder</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;YXZ&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 旋转1/4个圆 欧拉角属性</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//坐标轴</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axesHelper</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">AxesHelper</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">axesHelper</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="三维向量" tabindex="-1"><a class="header-anchor" href="#三维向量" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=Obje#api/zh/math/Vector3" target="_blank" rel="noopener noreferrer">三维向量<ExternalLinkIcon/></a></h3>
<p>该类表示的是一个三维向量（3D <a href="https://en.wikipedia.org/wiki/Vector_space" target="_blank" rel="noopener noreferrer">vector<ExternalLinkIcon/></a>）。 一个三维向量表示的是一个有顺序的、三个为一组的数字组合（标记为 x、y 和 z）， 可被用来表示很多事物，例如：</p>
<ul>
<li>一个位于三维空间中的点。</li>
<li>一个在三维空间中的方向与长度的定义。在 three.js 中，长度总是从(0, 0, 0)到(x, y, z)的 <a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank" rel="noopener noreferrer">Euclidean distance<ExternalLinkIcon/></a>（欧几里德距离，即直线距离）， 方向也是从(0, 0, 0)到(x, y, z)的方向。</li>
<li>任意的、有顺序的、三个为一组的数字组合。</li>
</ul>
<p>其他的一些事物也可以使用二维向量进行表示，比如说动量矢量等等； 但以上这些是它在 three.js 中的常用用途。</p>
<p>对 Vector3 实例进行遍历将按相应的顺序生成它的分量 (x, y, z)。</p>
<p><a href="https://threejs.org/docs/?q=Obje#api/zh/math/Vector3.length" target="_blank" rel="noopener noreferrer">length<ExternalLinkIcon/></a> () : Float</p>
<ul>
<li>计算从(0, 0, 0) 到 (x, y, z)的欧几里得长度 （<a href="https://en.wikipedia.org/wiki/Euclidean_distance" target="_blank" rel="noopener noreferrer">Euclidean length<ExternalLinkIcon/></a>，即直线长度）</li>
</ul>
<p><a href="https://threejs.org/docs/?q=Obje#api/zh/math/Vector3.normalize" target="_blank" rel="noopener noreferrer">normalize<ExternalLinkIcon/></a> () : this</p>
<p>将该向量转换为单位向量（<a href="https://en.wikipedia.org/wiki/Unit_vector" target="_blank" rel="noopener noreferrer">unit vector<ExternalLinkIcon/></a>）， 也就是说，将该向量的方向设置为和原向量相同，但是其长度（length）为 1。</p>
<p><a href="https://threejs.org/docs/?q=Obje#api/zh/math/Vector3.distanceTo" target="_blank" rel="noopener noreferrer">distanceTo<ExternalLinkIcon/></a> ( v : Vector3 ) : Float</p>
<p>计算该向量到所传入的 v 间的距离。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">// 计算从(0, 0, 0) 到 (x, y, z)的欧几里得长度(即直线长度)</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">length</span><span style="color: #ABB2BF">());</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 将该向量转换为单位向量（unit vector），</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 也就是说,将该向量的方向设置为和原向量相同,但是其长度(length)为1。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 向量的归一化</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">normalize</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//长度为1</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">length</span><span style="color: #ABB2BF">());</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 计算该向量到所传入的v间的距离。</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">distanceTo</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">));</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>解释</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//沿着向量1，1，1移动100，而非移动到100，100，100的位置</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">translateOnAxis</span><span style="color: #ABB2BF">( </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Vector3</span><span style="color: #ABB2BF">( </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF"> ).</span><span style="color: #61AFEF">normalize</span><span style="color: #ABB2BF">(), </span><span style="color: #D19A66">100</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>往场景里加网格</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="组" tabindex="-1"><a class="header-anchor" href="#组" aria-hidden="true">#</a> <a href="https://threejs.org/docs/#api/zh/objects/Group" target="_blank" rel="noopener noreferrer">组<ExternalLinkIcon/></a></h3>
<p>它几乎和 Object3D 是相同的，其目的是使得组中对象在语法上的结构更加清晰。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//弄成一个组 大家一起移动</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">group</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Group</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">scale</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">group</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube2</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0x00ff00</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube3</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0x0000ff</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">cube2</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube2</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">cube3</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube3</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\transform-objects\group.png" alt="group"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * Group 组</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">group</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Group</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">scale</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">group</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube2</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0x00ff00</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">cube2</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube2</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube3</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0x0000ff</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">cube3</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube3</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//坐标轴</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axesHelper</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">AxesHelper</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">axesHelper</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.lookAt(group.position);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="坐标轴" tabindex="-1"><a class="header-anchor" href="#坐标轴" aria-hidden="true">#</a> <a href="https://threejs.org/docs/#api/zh/helpers/AxesHelper" target="_blank" rel="noopener noreferrer">坐标轴<ExternalLinkIcon/></a></h3>
<p>用于简单模拟 3 个坐标轴的对象。红色代表 X 轴，绿色代表 Y 轴， 蓝色代表 Z 轴。</p>
<h4 id="构造器-7" tabindex="-1"><a class="header-anchor" href="#构造器-7" aria-hidden="true">#</a> 构造器</h4>
<p>AxesHelper( size : Number )</p>
<ul>
<li>size -- (可选的) 表示代表轴的线段长度. 默认为 <strong>1</strong>.</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axesHelper</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">AxesHelper</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>往场景里添加坐标轴</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">axesHelper</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\transform-objects\axesHelper.png" alt="axesHelper"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.7</span><span style="color: #ABB2BF">, </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">0.6</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//坐标轴</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axesHelper</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">AxesHelper</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">axesHelper</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//相机往右移动</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//相机往上移动</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>尺寸：当做渲染器的尺寸大小，以及透视相机长宽比。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="透视相机-1" tabindex="-1"><a class="header-anchor" href="#透视相机-1" aria-hidden="true">#</a> <a href="https://threejs.org/docs/#api/zh/cameras/PerspectiveCamera" target="_blank" rel="noopener noreferrer">透视相机<ExternalLinkIcon/></a></h3>
<p><a href="https://threejs.org/docs/#api/zh/core/Object3D.lookAt" target="_blank" rel="noopener noreferrer">lookAt<ExternalLinkIcon/></a> ( vector : Vector3 ) : undefined</p>
<p><a href="https://threejs.org/docs/#api/zh/core/Object3D.lookAt" target="_blank" rel="noopener noreferrer">lookAt<ExternalLinkIcon/></a> ( x : Float, y : Float, z : Float ) : undefined</p>
<ul>
<li>vector - 一个表示世界空间中位置的向量。</li>
<li>也可以使用世界空间中 x、y 和 z 的位置分量。</li>
<li>旋转物体使其在世界空间中面朝一个点。</li>
<li>这一方法不支持其父级被旋转过或者被位移过的物体。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.x = 1;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.y = 1;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 计算该向量到所传入的v间的距离。</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">distanceTo</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//lookAt</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.lookAt(mesh.position);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.lookAt(group.position);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\transform-objects\lookAt.png" alt="lookAt"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.7</span><span style="color: #ABB2BF">, </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">0.6</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">scale</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//Rotation</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 旋转顺序 欧拉角方法</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">reorder</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;YXZ&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 旋转1/4个圆 欧拉角属性</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//坐标轴</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axesHelper</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">AxesHelper</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">axesHelper</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.lookAt(new THREE.Vector3(3, 0, 0));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.position.set(0.7, -0.6, 1);</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">render</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">render</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="渲染" tabindex="-1"><a class="header-anchor" href="#渲染" aria-hidden="true">#</a> 渲染</h3>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="完整代码-2" tabindex="-1"><a class="header-anchor" href="#完整代码-2" aria-hidden="true">#</a> 完整代码</h3>
<h4 id="html-2" tabindex="-1"><a class="header-anchor" href="#html-2" aria-hidden="true">#</a> HTML</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #56B6C2">&lt;!</span><span style="color: #E5C07B">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">html</span><span style="color: #56B6C2">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">lang</span><span style="color: #56B6C2">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">charset</span><span style="color: #56B6C2">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">name</span><span style="color: #56B6C2">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">content</span><span style="color: #56B6C2">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Transform objects&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66; font-style: italic">class</span><span style="color: #56B6C2">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript-2" tabindex="-1"><a class="header-anchor" href="#javascript-2" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 对象</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// x轴向右 y轴向上 z轴垂直平面向外</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.position.x = 0.7;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.position.y = -0.6;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.position.z = 1;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//一次性设置x、y、z</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.7</span><span style="color: #ABB2BF">, </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">0.6</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//缩放</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.scale.x = 2;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.scale.y = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.scale.z = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//一次性设置scale</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">scale</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//旋转</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 旋转顺序</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">reorder</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;YXZ&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 旋转半个圆</span></span>
<span class="line"><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 计算从(0, 0, 0) 到 (x, y, z)的欧几里得长度(即直线长度)</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">length</span><span style="color: #ABB2BF">());</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 将该向量转换为单位向量（unit vector），</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 也就是说,将该向量的方向设置为和原向量相同,但是其长度(length)为1。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// mesh.position.normalize();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//弄成一个组 大家一起移动</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">group</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Group</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">scale</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">group</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube2</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0x00ff00</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cube3</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0x0000ff</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">cube2</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube2</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">cube3</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">cube3</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//坐标轴</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//用于简单模拟3个坐标轴的对象.</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 红色代表 X 轴. 绿色代表 Y 轴. 蓝色代表 Z 轴.</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">axesHelper</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">AxesHelper</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">axesHelper</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 尺寸</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 相机</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.x = 1;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.y = 1;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 计算该向量到所传入的v间的距离。</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">distanceTo</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//lookAt</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">group</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.lookAt(mesh.position);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.lookAt(group.position);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 渲染</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\transform-objects\index.png" alt="最终效果"></p>
<h2 id="动画" tabindex="-1"><a class="header-anchor" href="#动画" aria-hidden="true">#</a> 动画</h2>
<h3 id="帧动画" tabindex="-1"><a class="header-anchor" href="#帧动画" aria-hidden="true">#</a> 帧动画</h3>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/window/requestAnimationFrame" target="_blank" rel="noopener noreferrer">window.requestAnimationFrame()<ExternalLinkIcon/></a> 告诉浏览器——你希望执行一个动画，并且要求浏览器在下次重绘之前调用指定的回调函数更新动画。该方法需要传入一个回调函数作为参数，该回调函数会在浏览器下一次重绘之前执行。</p>
<p><img src="E:\Desktop\vuepress\docs\base\images\Three\animations\Time.gif" alt="Time"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//Time</span></span>
<span class="line"><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">time</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Date</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">now</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//Animation</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//当前时间</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">currentTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Date</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">now</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//每帧相差时间(相当于速度 秒/帧) </span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">deltaTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">currentTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">time</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新时间</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">time</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">currentTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新对象 每帧相差时间一致</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//所以与帧数无关,无论帧数如何,它的速度都是正确的</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.002</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">deltaTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="clock" tabindex="-1"><a class="header-anchor" href="#clock" aria-hidden="true">#</a> Clock</h3>
<p><a href="https://threejs.org/docs/#api/zh/core/Clock" target="_blank" rel="noopener noreferrer">Clock<ExternalLinkIcon/></a>用于跟踪时间，如果<a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance/now" target="_blank" rel="noopener noreferrer">performance.now<ExternalLinkIcon/></a>可用，则 Clock 对象通过该方法实现，否则回落到使用略欠精准的<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Date/now" target="_blank" rel="noopener noreferrer">Date.now<ExternalLinkIcon/></a>来实现。</p>
<p><a href="https://threejs.org/docs/#api/zh/core/Clock.getElapsedTime" target="_blank" rel="noopener noreferrer">getElapsedTime<ExternalLinkIcon/></a> () : Float</p>
<ul>
<li>获取自时钟启动后的秒数，同时将 .oldTime 设置为当前时间。</li>
<li>如果 .autoStart 设置为 <strong>true</strong> 且时钟并未运行，则该方法同时启动时钟。</li>
</ul>
<p><img src="E:\Desktop\vuepress\docs\base\images\Three\animations\clock.gif" alt="clock"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//Clock</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//Clock 将当前时间设置给clock,然后将相差时间设置给elapsedTime</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// mesh.rotation.y = elapsedTime * Math.PI * 2;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//会绕着一个圆转  因为sin*x^2 + cos*x^2 = 1</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">sin</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">cos</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//使其在世界空间中面朝一个点</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="gsap" tabindex="-1"><a class="header-anchor" href="#gsap" aria-hidden="true">#</a> <a href="https://greensock.com/gsap/" target="_blank" rel="noopener noreferrer">GSAP<ExternalLinkIcon/></a></h3>
<div class="custom-container tip"><p class="custom-container-title">TIP</p>
<p>首先通过 yarn add gsap --save 安装 gsap，<a href="https://greensock.com/docs/v3/GSAP/gsap.to()" target="_blank" rel="noopener noreferrer">gsap.to()<ExternalLinkIcon/></a></p>
</div>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">gsap</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;gsap&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//GSAP</span></span>
<span class="line"><span style="color: #E5C07B">gsap</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">to</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">duration</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">delay</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">x</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #E5C07B">gsap</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">to</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">duration</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">delay</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">x</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\animations\gsap.gif" alt="最终效果"></p>
<h3 id="完整代码-3" tabindex="-1"><a class="header-anchor" href="#完整代码-3" aria-hidden="true">#</a> 完整代码</h3>
<h4 id="html-3" tabindex="-1"><a class="header-anchor" href="#html-3" aria-hidden="true">#</a> HTML</h4>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Animations&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript-3" tabindex="-1"><a class="header-anchor" href="#javascript-3" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">gsap</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;gsap&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Canvas</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Scene</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Object</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Sizes</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Camera</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Renderer</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//Time</span></span>
<span class="line"><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">time</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Date</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">now</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//Animation</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//当前时间</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">currentTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Date</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">now</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//每帧相差时间  帧时间 = 1s / 帧数</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">deltaTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">currentTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">time</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新时间</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">time</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">currentTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新对象 移动距离 = 帧数 * 单位速度(帧时间)</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//所以与帧数无关,无论帧数如何,它的速度都是正确的</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.002</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">deltaTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//Clock</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//Clock</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// mesh.rotation.y = elapsedTime * Math.PI * 2;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//会绕着一个圆转  因为sin*x^2 + cos*x^2 = 1</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">sin</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">cos</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//使其在世界空间中面朝一个点</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//GSAP</span></span>
<span class="line"><span style="color: #E5C07B">gsap</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">to</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">duration</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">delay</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">x</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #E5C07B">gsap</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">to</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">duration</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">delay</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">x</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="相机" tabindex="-1"><a class="header-anchor" href="#相机" aria-hidden="true">#</a> 相机</h2>
<h3 id="透视相机-2" tabindex="-1"><a class="header-anchor" href="#透视相机-2" aria-hidden="true">#</a> <a href="https://threejs.org/docs/#api/zh/cameras/PerspectiveCamera" target="_blank" rel="noopener noreferrer">透视相机<ExternalLinkIcon/></a></h3>
<h4 id="near-和-far" tabindex="-1"><a class="header-anchor" href="#near-和-far" aria-hidden="true">#</a> near 和 far</h4>
<p><a href="https://threejs.org/docs/#api/zh/cameras/PerspectiveCamera.near" target="_blank" rel="noopener noreferrer">near<ExternalLinkIcon/></a> : Float</p>
<ul>
<li>摄像机的近端面，默认值是<strong>0.1</strong>。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/cameras/PerspectiveCamera.far" target="_blank" rel="noopener noreferrer">far<ExternalLinkIcon/></a> : Float</p>
<ul>
<li>
<p>摄像机的远端面，默认值是<strong>2000</strong>。</p>
</li>
<li>
<p>该值必须大于 near plane（摄像机视锥体近端面）的值。</p>
</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">1000</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\cameras\透视相机.png" alt="透视相机"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * Base</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Canvas</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Sizes</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Scene</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Object</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Camera</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 物体 与 相机 长度需要在near和far之间,否则会有奇奇怪怪的bug</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//2、相机距离</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">length</span><span style="color: #ABB2BF">());</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Renderer</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="正交相机" tabindex="-1"><a class="header-anchor" href="#正交相机" aria-hidden="true">#</a> <a href="https://threejs.org/docs/#api/zh/cameras/OrthographicCamera" target="_blank" rel="noopener noreferrer">正交相机<ExternalLinkIcon/></a></h3>
<h4 id="构造器-8" tabindex="-1"><a class="header-anchor" href="#构造器-8" aria-hidden="true">#</a> 构造器</h4>
<p>OrthographicCamera( left : Number, right : Number, top : Number, bottom : Number, near : Number, far : Number )</p>
<ul>
<li>left — 摄像机视锥体左侧面。</li>
<li>right — 摄像机视锥体右侧面。</li>
<li>top — 摄像机视锥体上侧面。</li>
<li>bottom — 摄像机视锥体下侧面。</li>
<li>near — 摄像机视锥体近端面。</li>
<li>far — 摄像机视锥体远端面。</li>
</ul>
<p>这些参数一起定义了摄像机的<a href="https://en.wikipedia.org/wiki/Viewing_frustum" target="_blank" rel="noopener noreferrer">viewing frustum<ExternalLinkIcon/></a>（视锥体）。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//正交相机 长/宽 = x / 1</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">aspectRatio</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//背景是长方形 所以 y轴 / x轴 不是1/1</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">OrthographicCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">aspectRatio</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">aspectRatio</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\cameras\正交相机.png" alt="正交相机"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * Base</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Canvas</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Sizes</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Scene</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Object</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">aspectRatio</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 正交相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">OrthographicCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">aspectRatio</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">aspectRatio</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//2、相机距离</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">length</span><span style="color: #ABB2BF">());</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Renderer</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="鼠标坐标" tabindex="-1"><a class="header-anchor" href="#鼠标坐标" aria-hidden="true">#</a> 鼠标坐标</h3>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">x</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">y</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 监听鼠标移动 并记录坐标</span></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;mousemove&#39;</span><span style="color: #ABB2BF">, (</span><span style="color: #E06C75; font-style: italic">event</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">event</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">clientX</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">event</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">clientY</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Animate</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">sin</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">) </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">cos</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">) </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// Render</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// Call tick again on the next frame</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\cameras\鼠标.gif" alt="鼠标"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 鼠标</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">x</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">y</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;mousemove&#39;</span><span style="color: #ABB2BF">, (</span><span style="color: #E06C75; font-style: italic">event</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//在盒子内的移动距离为-0.5~0.5</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">event</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">clientX</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">event</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">clientY</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * Base</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Canvas</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Sizes</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Scene</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Object</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">aspectRatio</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 正交相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">aspectRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">100</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//2、相机距离</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">length</span><span style="color: #ABB2BF">());</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Renderer</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 动画</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//cursor.x * Math.PI * 2  -π ~ π 0-&gt;-1-&gt;0-&gt;1-&gt;0</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">sin</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">) </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//-1-&gt;0-&gt;1-&gt;0-&gt;-1</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">cos</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #D19A66">PI</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">) </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="轨道控制器" tabindex="-1"><a class="header-anchor" href="#轨道控制器" aria-hidden="true">#</a> <a href="https://threejs.org/docs/#examples/zh/controls/OrbitControls" target="_blank" rel="noopener noreferrer">轨道控制器<ExternalLinkIcon/></a></h3>
<ul>
<li>Orbit controls（轨道控制器）可以使得相机围绕目标进行轨道运动。</li>
<li>要使用这一功能，就像在/examples（示例）目录中的所有文件一样， 您必须在 HTML 中包含这个文件。</li>
</ul>
<h4 id="构造器-9" tabindex="-1"><a class="header-anchor" href="#构造器-9" aria-hidden="true">#</a> 构造器</h4>
<p>OrbitControls( object : Camera, domElement : HTMLDOMElement )</p>
<ul>
<li>object: （必须）将要被控制的相机。该相机不允许是其他任何对象的子级，除非该对象是场景自身。</li>
<li>domElement: 用于事件监听的 HTML 元素。</li>
</ul>
<p><a href="https://threejs.org/docs/#examples/zh/controls/OrbitControls.enableDamping" target="_blank" rel="noopener noreferrer">enableDamping<ExternalLinkIcon/></a> : Boolean</p>
<ul>
<li>将其设置为 true 以启用阻尼（惯性），这将给控制器带来重量感。默认值为 false。</li>
<li>请注意，如果该值被启用，你将必须在你的动画循环里调用.update()。</li>
</ul>
<p><a href="https://threejs.org/docs/#examples/zh/controls/OrbitControls.update" target="_blank" rel="noopener noreferrer">update<ExternalLinkIcon/></a> : Boolean</p>
<ul>
<li>更新控制器。必须在摄像机的变换发生任何手动改变后调用， 或如果.autoRotate 或.enableDamping 被设置时，在 update 循环里调用。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls.js&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 轨道控制</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 打开阻尼</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 动画</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新轨道控制器</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 循环</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\cameras\轨道控制器.gif" alt="最终效果"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Canvas</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Sizes</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Scene</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Object</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">aspectRatio</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 正交相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">aspectRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">100</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//2、相机距离</span></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">length</span><span style="color: #ABB2BF">());</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// controls.target.y = 1;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// controls.update();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 阻尼 平滑</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Renderer</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 动画</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//OrbitControls每一次修改配置都需要使用update</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="最终代码" tabindex="-1"><a class="header-anchor" href="#最终代码" aria-hidden="true">#</a> 最终代码</h3>
<h4 id="html-4" tabindex="-1"><a class="header-anchor" href="#html-4" aria-hidden="true">#</a> HTML</h4>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Cameras&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript-4" tabindex="-1"><a class="header-anchor" href="#javascript-4" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls.js&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">x</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">y</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;mousemove&#39;</span><span style="color: #ABB2BF">, (</span><span style="color: #E06C75; font-style: italic">event</span><span style="color: #ABB2BF">) </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">event</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">clientX</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">cursor</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">event</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">clientY</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Canvas</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Sizes</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">800</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">600</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Scene</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Object</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">5</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> })</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Camera</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// near and far</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">1000</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 正交相机 长/宽 = x / 1</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const aspectRatio = sizes.width / sizes.height;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const camera = new THREE.OrthographicCamera(</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//   -1 * aspectRatio,</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//   1 * aspectRatio,</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//   1,</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//   -1,</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//   0.1,</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//   100</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// );</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.x = 2;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// camera.position.y = 2;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">length</span><span style="color: #ABB2BF">());</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">lookAt</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//  轨道控制</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Renderer</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Animate</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// Update objects</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// mesh.rotation.y = elapsedTime;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//   camera.position.x = Math.sin(cursor.x * Math.PI * 2) * 3;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//   camera.position.y = cursor.y * Math.PI * 2;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//   camera.position.z = Math.cos(cursor.x * Math.PI * 2) * 3;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//   camera.lookAt(mesh.position);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// Render</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// Call tick again on the next frame</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="全屏" tabindex="-1"><a class="header-anchor" href="#全屏" aria-hidden="true">#</a> 全屏</h2>
<p>使用 CSS 先将 canvas 元素占满全屏</p>
<div class="language-css ext-css line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E06C75">*</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  margin: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  padding: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">} </span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/* </span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">    controls.enabled = false;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">    mac禁用后滚动 下面会出现空白区域</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">*/</span></span>
<span class="line"><span style="color: #E06C75">html</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #E06C75">body</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  overflow: </span><span style="color: #D19A66">hidden</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D19A66">.webgl</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  position: </span><span style="color: #D19A66">fixed</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  top: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  left: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  bottom: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  right: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  outline: </span><span style="color: #D19A66">none</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="调整尺寸" tabindex="-1"><a class="header-anchor" href="#调整尺寸" aria-hidden="true">#</a> 调整尺寸</h3>
<p><a href="https://threejs.org/docs/index.html?q=ca#api/zh/cameras/PerspectiveCamera.updateProjectionMatrix" target="_blank" rel="noopener noreferrer">updateProjectionMatrix<ExternalLinkIcon/></a> () : undefined</p>
<ul>
<li>更新摄像机投影矩阵。在任何参数被改变以后必须被调用。</li>
</ul>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/devicePixelRatio" target="_blank" rel="noopener noreferrer">Window.devicePixelRatio<ExternalLinkIcon/></a></p>
<ul>
<li>返回当前显示设备的<em>物理像素</em>分辨率与<em>CSS 像素</em>分辨率之比。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html?q=ren#api/zh/renderers/WebGLRenderer.setPixelRatio" target="_blank" rel="noopener noreferrer">setPixelRatio<ExternalLinkIcon/></a> ( value : number ) : undefined</p>
<ul>
<li>设置设备像素比。通常用于避免 HiDPI 设备上绘图模糊</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//1、调整</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;resize&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新相机</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">aspect</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">updateProjectionMatrix</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新渲染器尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//根据像素比率渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="双击窗口" tabindex="-1"><a class="header-anchor" href="#双击窗口" aria-hidden="true">#</a> 双击窗口</h3>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Element/dblclick_event" target="_blank" rel="noopener noreferrer">dblclick<ExternalLinkIcon/></a></p>
<ul>
<li>在单个元素上单击两次鼠标的指针设备按钮 (通常是小鼠的主按钮) 时，将触发 <code v-pre>dblclick</code> 事件。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//双击窗口</span></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;dblclick&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//兼容性写法</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">fullScreen</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">fullscreenElement</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitFullscreenElement</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//全屏</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">fullScreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">requestFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitRequestFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">webkitRequestFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #7F848E; font-style: italic">//退出全屏</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">exitFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">exitFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitExitFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">webkitExitFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\Three\fullscreen-and-resizing\全屏.gif" alt="全屏"></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls.js&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// Canvas</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 对象</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 尺寸</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 监听尺寸变化</span></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;resize&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新相机纵横比</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">aspect</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//需要使用updateProjectionMatrix进行更新</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">updateProjectionMatrix</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新渲染器尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//根据像素比率渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//双击窗口</span></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;dblclick&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">fullScreen</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">fullscreenElement</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitFullscreenElement</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">fullScreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">requestFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitRequestFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">webkitRequestFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">exitFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">exitFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitExitFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">webkitExitFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 透视相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 轨道控制器</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 渲染器</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//设置尺寸</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//根据像素比率渲染</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新轨道控制器</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="完整代码-4" tabindex="-1"><a class="header-anchor" href="#完整代码-4" aria-hidden="true">#</a> 完整代码</h3>
<h4 id="html-5" tabindex="-1"><a class="header-anchor" href="#html-5" aria-hidden="true">#</a> HTML</h4>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Fullscreen and resizing&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="css" tabindex="-1"><a class="header-anchor" href="#css" aria-hidden="true">#</a> CSS</h4>
<div class="language-css ext-css line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">/* </span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">* {</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">  margin: 0;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">  padding: 0;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">} </span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">*/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/* </span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">    controls.enabled = false;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">    mac禁用后滚动 下面会出现空白区域</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">*/</span></span>
<span class="line"><span style="color: #E06C75">html</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #E06C75">body</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  overflow: </span><span style="color: #D19A66">hidden</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D19A66">.webgl</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  position: </span><span style="color: #D19A66">fixed</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  top: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  left: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  bottom: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  right: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  outline: </span><span style="color: #D19A66">none</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript-5" tabindex="-1"><a class="header-anchor" href="#javascript-5" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls.js&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//对象</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//尺寸</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;resize&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新相机</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">aspect</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">updateProjectionMatrix</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新渲染器尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//根据像素比率渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//双击窗口</span></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;dblclick&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">fullScreen</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">fullscreenElement</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">||</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitFullscreenElement</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #56B6C2">!</span><span style="color: #E06C75">fullScreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">requestFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitRequestFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">webkitRequestFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">exitFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">exitFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    } </span><span style="color: #C678DD">else</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">if</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">webkitExitFullscreen</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">      </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">webkitExitFullscreen</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #ABB2BF">    }</span></span>
<span class="line"><span style="color: #ABB2BF">  }</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//透视相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 控制</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//阻尼</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//根据像素比率渲染</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//动画</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新控制</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="几何" tabindex="-1"><a class="header-anchor" href="#几何" aria-hidden="true">#</a> 几何</h2>
<h3 id="buffergeometry" tabindex="-1"><a class="header-anchor" href="#buffergeometry" aria-hidden="true">#</a> <a href="https://threejs.org/docs/index.html?q=BufferGeometry#api/zh/core/BufferGeometry" target="_blank" rel="noopener noreferrer">BufferGeometry<ExternalLinkIcon/></a></h3>
<ul>
<li>是面片、线或点几何体的有效表述。包括顶点位置，面片索引、法相量、颜色值、UV 坐标和自定义缓存属性值。使用 BufferGeometry 可以有效减少向 GPU 传输上述数据所需的开销。</li>
</ul>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Float32Array" target="_blank" rel="noopener noreferrer">Float32Array<ExternalLinkIcon/></a></p>
<ul>
<li>Float32Array 类型数组代表的是平台字节顺序为 32 位的浮点数型数组 (对应于 C 浮点数据类型) 。其内容初始化为 0，一旦建立起来，你可以使用这个对象的方法对其元素进行操作，或者使用标准数组索引语法 (使用方括号)。</li>
</ul>
<h3 id="bufferattribute" tabindex="-1"><a class="header-anchor" href="#bufferattribute" aria-hidden="true">#</a> <a href="https://threejs.org/docs/index.html?q=BufferAttribute#api/zh/core/BufferAttribute" target="_blank" rel="noopener noreferrer">BufferAttribute<ExternalLinkIcon/></a></h3>
<ul>
<li>这个类用于存储与 BufferGeometry 相关联的 attribute（例如顶点位置向量，面片索引，法向量，颜色值，UV 坐标以及任何自定义 attribute ）。 利用 BufferAttribute，可以更高效的向 GPU 传递数据。详情和例子见该页。</li>
<li>在 BufferAttribute 中，数据被存储为任意长度的矢量（通过 itemSize 进行定义），下列函数如无特别说明， 函数参数中的 index 会自动乘以矢量长度进行计算。 When working with vector-like data, the <em>.fromBufferAttribute( attribute, index )</em> helper methods on Vector2, Vector3, Vector4, and Color classes may be helpful.</li>
</ul>
<h4 id="构造函数-1" tabindex="-1"><a class="header-anchor" href="#构造函数-1" aria-hidden="true">#</a> 构造函数</h4>
<p>BufferAttribute( array : TypedArray, itemSize : Integer, normalized : Boolean )</p>
<ul>
<li>
<p>array -- 必须是 <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/TypedArray" target="_blank" rel="noopener noreferrer">TypedArray<ExternalLinkIcon/></a>. 类型，用于实例化缓存。
该队列应该包含：<code v-pre>itemSize * numVertices</code>个元素，numVertices 是 BufferGeometry 中的顶点数目</p>
</li>
<li>
<p>itemSize -- 队列中与顶点相关的数据值的大小。举例，如果 attribute 存储的是三元组（例如顶点空间坐标、法向量或颜色值）则 itemSize 的值应该是 3。</p>
</li>
<li>
<p>normalized -- (可选) 指明缓存中的数据如何与 GLSL 代码中的数据对应。例如，如果 array 是 UInt16Array 类型，且 normalized 的值是 true，则队列中的值将会从 0 - +65535 映射为 GLSL 中的 0.0f - +1.0f。 如果 array 是 Int16Array (有符号)，则值将会从 -32768 - +32767 映射为 -1.0f - +1.0f。若 normalized 的值为 false，则数据映射不会归一化，而会直接映射为 float 值，例如，32767 将会映射为 32767.0f.</p>
</li>
</ul>
<p><a href="https://threejs.org/docs/index.html?q=BufferGeometry#api/zh/core/BufferGeometry.setAttribute" target="_blank" rel="noopener noreferrer">setAttribute<ExternalLinkIcon/></a> ( name : String, attribute : BufferAttribute ) : this</p>
<ul>
<li>为当前几何体设置一个 attribute 属性。在类的内部，有一个存储 .attributes 的 hashmap， 通过该 hashmap，遍历 attributes 的速度会更快。而使用该方法，可以向 hashmap 内部增加 attribute。 所以，你需要使用该方法来添加 attributes。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html?q=MeshBasicMaterial#api/zh/materials/MeshBasicMaterial.wireframe" target="_blank" rel="noopener noreferrer">wireframe<ExternalLinkIcon/></a> : Boolean</p>
<ul>
<li>将几何体渲染为线框。默认值为<strong>false</strong>（即渲染为平面多边形）。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//自定义几何</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BufferGeometry</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">count</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">50</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//创造50个三角形</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">positionArray</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Float32Array</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">count</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">for</span><span style="color: #ABB2BF"> (</span><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&lt;</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">count</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">i</span><span style="color: #56B6C2">++</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">positionArray</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">random</span><span style="color: #ABB2BF">() </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">) </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">positionAttribute</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BufferAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">positionArray</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;position&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">positionAttribute</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">wireframe</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\09-geometries.png" alt="最终效果"></p>
<h3 id="完整代码-5" tabindex="-1"><a class="header-anchor" href="#完整代码-5" aria-hidden="true">#</a> 完整代码</h3>
<h4 id="html-6" tabindex="-1"><a class="header-anchor" href="#html-6" aria-hidden="true">#</a> HTML</h4>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Geometries&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="css-1" tabindex="-1"><a class="header-anchor" href="#css-1" aria-hidden="true">#</a> CSS</h4>
<div class="language-css ext-css line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E06C75">*</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  margin: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  padding: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E06C75">html</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #E06C75">body</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  overflow: </span><span style="color: #D19A66">hidden</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D19A66">.webgl</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  position: </span><span style="color: #D19A66">fixed</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  top: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  left: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  outline: </span><span style="color: #D19A66">none</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript-6" tabindex="-1"><a class="header-anchor" href="#javascript-6" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls.js&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 对象</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BufferGeometry</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">count</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">50</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//创造50个三角形</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">positionArray</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">Float32Array</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">count</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">for</span><span style="color: #ABB2BF"> (</span><span style="color: #C678DD">let</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">i</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">&lt;</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">count</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">; </span><span style="color: #E06C75">i</span><span style="color: #56B6C2">++</span><span style="color: #ABB2BF">) {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">positionArray</span><span style="color: #ABB2BF">[</span><span style="color: #E06C75">i</span><span style="color: #ABB2BF">] </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> (</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">random</span><span style="color: #ABB2BF">() </span><span style="color: #56B6C2">-</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">) </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">positionAttribute</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BufferAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">positionArray</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;position&#39;</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">positionAttribute</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//网格</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xff0000</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">wireframe</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 尺寸</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;resize&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新相机</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">aspect</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">updateProjectionMatrix</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 控制</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 动画</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新控制</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="调试工具" tabindex="-1"><a class="header-anchor" href="#调试工具" aria-hidden="true">#</a> <a href="https://github.com/dataarts/dat.gui" target="_blank" rel="noopener noreferrer">调试工具<ExternalLinkIcon/></a></h2>
<p><a href="https://jsfiddle.net/ikatyang/182ztwao/" target="_blank" rel="noopener noreferrer">dat.GUI 示例<ExternalLinkIcon/></a></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">dat</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;dat.gui&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//调试debug</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">dat</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">GUI</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">closed</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">400</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//隐藏控制面板 h显示隐藏</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">hide</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//参数</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">parameters</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xc2ff</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//旋转</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">spin</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">gsap</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">to</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">rotation</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">duration</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">y</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">10</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//调节颜色</span></span>
<span class="line"><span style="color: #E06C75">gui</span></span>
<span class="line"><span style="color: #ABB2BF">  .</span><span style="color: #61AFEF">addColor</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">parameters</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;color&#39;</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">  .</span><span style="color: #61AFEF">name</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;颜色&#39;</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">  .</span><span style="color: #61AFEF">onChange</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">color</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">parameters</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  });</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//旋转</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">parameters</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;spin&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//调节y轴</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;y&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">min</span><span style="color: #ABB2BF">(</span><span style="color: #56B6C2">-</span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">max</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">step</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.01</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">name</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;网格y轴&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//是否显示网格</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;visible&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">name</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;显示网格&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//是否线框</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;wireframe&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">name</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;显示线框&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\10-debug-ui.gif" alt="最终效果"></p>
<h3 id="完整代码-6" tabindex="-1"><a class="header-anchor" href="#完整代码-6" aria-hidden="true">#</a> 完整代码</h3>
<h4 id="html-7" tabindex="-1"><a class="header-anchor" href="#html-7" aria-hidden="true">#</a> HTML</h4>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Debug UI&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="css-2" tabindex="-1"><a class="header-anchor" href="#css-2" aria-hidden="true">#</a> CSS</h4>
<div class="language-css ext-css line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E06C75">*</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  margin: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  padding: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E06C75">html</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #E06C75">body</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  overflow: </span><span style="color: #D19A66">hidden</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D19A66">.webgl</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  position: </span><span style="color: #D19A66">fixed</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  top: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  left: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  outline: </span><span style="color: #D19A66">none</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript-7" tabindex="-1"><a class="header-anchor" href="#javascript-7" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls.js&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">gsap</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;gsap&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">dat</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;dat.gui&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//调试debug</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">dat</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">GUI</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">closed</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">400</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//隐藏控制面板 h显示隐藏</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">hide</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//参数</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">parameters</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">0xc2ff</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//旋转</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #61AFEF">spin</span><span style="color: #ABB2BF">: () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">gsap</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">to</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">rotation</span><span style="color: #ABB2BF">, { </span><span style="color: #E06C75">duration</span><span style="color: #ABB2BF">: </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">y</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">+</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">10</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #ABB2BF">  },</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//调节颜色</span></span>
<span class="line"><span style="color: #E06C75">gui</span></span>
<span class="line"><span style="color: #ABB2BF">  .</span><span style="color: #61AFEF">addColor</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">parameters</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;color&#39;</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">  .</span><span style="color: #61AFEF">name</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;颜色&#39;</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">  .</span><span style="color: #61AFEF">onChange</span><span style="color: #ABB2BF">(() </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">    </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">color</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">set</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">parameters</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  });</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">parameters</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;spin&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//对象</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">color</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">parameters</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">color</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//Debug</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//调节y轴</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">position</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;y&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">min</span><span style="color: #ABB2BF">(</span><span style="color: #56B6C2">-</span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">max</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">step</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.01</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">name</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;网格y轴&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//是否显示网格</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;visible&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">name</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;显示网格&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//是否线框</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;wireframe&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">name</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;显示线框&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 尺寸</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;resize&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新相机</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">aspect</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">updateProjectionMatrix</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 透视相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 控制</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 渲染</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">/**</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> * 动画</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic"> */</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新控制</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="纹理" tabindex="-1"><a class="header-anchor" href="#纹理" aria-hidden="true">#</a> 纹理</h2>
<h3 id="loadingmanager" tabindex="-1"><a class="header-anchor" href="#loadingmanager" aria-hidden="true">#</a> <a href="https://threejs.org/docs/index.html?q=LoadingManager#api/zh/loaders/managers/LoadingManager" target="_blank" rel="noopener noreferrer">LoadingManager<ExternalLinkIcon/></a></h3>
<p>onStart : Function</p>
<ul>
<li>此函数在加载开始时被调用。 有如下参数：
<ul>
<li>url — 被加载的项的 url。</li>
<li>itemsLoaded — 目前已加载项的个数。</li>
<li>itemsTotal — 总共所需要加载项的个数。</li>
</ul>
</li>
</ul>
<p>该函数默认为 undefined。</p>
<p>onLoad : Function</p>
<ul>
<li>所有的项目加载完成后将调用此函数。默认情况下，该函数是未定义的，除非在构造函数中传入。</li>
</ul>
<p>onProgress : Function</p>
<ul>
<li>此方法加载每一个项，加载完成时进行调用。 有如下参数：
<ul>
<li>url — 被加载的项的 url。</li>
<li>itemsLoaded — 目前已加载项的个数。</li>
<li>itemsTotal — 总共所需要加载项的个数。</li>
</ul>
</li>
</ul>
<p>默认情况下，该函数为 undefined，除非在构造函数中传入。</p>
<p>onError : Function</p>
<ul>
<li>此方法将在任意项加载错误时，进行调用。 有如下参数：
<ul>
<li>url — 加载发生错误的项目的 url</li>
</ul>
</li>
</ul>
<p>默认情况下，该函数为 undefined，除非在构造函数中传入。</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//纹理  将图片转成纹理</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">LoadingManager</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">onStart</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;onStart&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">onLoad</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;onLoaded&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">onProgress</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;onProgress&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">onError</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;onError&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="textureloader" tabindex="-1"><a class="header-anchor" href="#textureloader" aria-hidden="true">#</a> <a href="https://threejs.org/docs/index.html?q=TextureLoader#api/zh/loaders/TextureLoader" target="_blank" rel="noopener noreferrer">TextureLoader<ExternalLinkIcon/></a></h3>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">TextureLoader</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">loadingManager</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const colorTexture = textureLoader.load(&#39;/textures/door/color.jpg&#39;);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const colorTexture = textureLoader.load(&#39;/textures/checkerboard-1024x1024.png&#39;);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const colorTexture = textureLoader.load(&#39;/textures/checkerboard-8x8.png&#39;);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">colorTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/minecraft.png&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">alphaTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/alpha.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">heightTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/height.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">normalTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/normal.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">ambientOcclusionTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/door/ambientOcclusion.jpg&#39;</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">metalnessTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/metalness.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">roughnessTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/roughness.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//更改纹理</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">map</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">colorTexture</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="texture" tabindex="-1"><a class="header-anchor" href="#texture" aria-hidden="true">#</a> <a href="https://threejs.org/docs/index.html#api/zh/textures/Texture" target="_blank" rel="noopener noreferrer">Texture<ExternalLinkIcon/></a></h3>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.repeat" target="_blank" rel="noopener noreferrer">repeat<ExternalLinkIcon/></a> : Vector2</p>
<ul>
<li>纹理在表面上重复多少次，在每个方向 U 和 V。如果在任一方向上将重复设置为大于 1，则相应的 Wrap 参数也应设置为 THREE.RepeatWrapping 或 THREE.MirroredRepeatWrapping 以实现所需的平铺影响。为纹理设置不同的重复值的方式与 .offset 相同。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.wrapS" target="_blank" rel="noopener noreferrer">wrapS<ExternalLinkIcon/></a> : number</p>
<ul>
<li>这个值定义了纹理贴图在水平方向上将如何包裹，在 UV 映射中对应于<strong>U</strong>。默认值是 THREE.ClampToEdgeWrapping，即纹理边缘将被推到外部边缘的纹素。 其它的两个选项分别是 THREE.RepeatWrapping 和 THREE.MirroredRepeatWrapping。 请参阅 texture constants 来了解详细信息。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.wrapT" target="_blank" rel="noopener noreferrer">wrapT<ExternalLinkIcon/></a> : number</p>
<ul>
<li>这个值定义了纹理贴图在垂直方向上将如何包裹，在 UV 映射中对应于<strong>V</strong>。可以使用与 .wrapS : number 相同的选项。</li>
</ul>
<p><strong>包裹模式</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">RepeatWrapping</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">ClampToEdgeWrapping</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">MirroredRepeatWrapping</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>这些常量定义了纹理贴图的 wrapS 和 wrapT 属性，定义了水平和垂直方向上纹理的包裹方式。</li>
<li>使用 RepeatWrapping，纹理将简单地重复到无穷大。 With RepeatWrapping the texture will simply repeat to infinity.</li>
<li>ClampToEdgeWrapping 是默认值，纹理中的最后一个像素将延伸到网格的边缘。</li>
<li>使用 MirroredRepeatWrapping， 纹理将重复到无穷大，在每次重复时将进行镜像。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.offset" target="_blank" rel="noopener noreferrer">offset<ExternalLinkIcon/></a> : Vector2</p>
<ul>
<li>
<p>在 U 和 V 的每个方向上，纹理的单个重复从开头偏移多少。典型范围是 0.0 到 1.0。 以下纹理类型共享引擎中的第一个 uv 通道。偏移（和重复）设置根据以下优先级进行评估，然后由这些纹理共享：</p>
<ul>
<li>color map</li>
<li>specular map</li>
<li>displacement map</li>
<li>normal map</li>
<li>bump map</li>
<li>roughness map</li>
<li>metalness map</li>
<li>alpha map</li>
<li>emissive map</li>
<li>clearcoat map</li>
<li>clearcoat normal map</li>
<li>clearcoat roughnessMap map</li>
</ul>
<p>以下纹理类型共享引擎中的第二个 uv 通道。偏移（和重复）设置根据以下优先级进行评估，然后由这些纹理共享：</p>
<ul>
<li>ao map</li>
<li>light map</li>
</ul>
</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.rotation" target="_blank" rel="noopener noreferrer">rotation<ExternalLinkIcon/></a> : number</p>
<ul>
<li>纹理将围绕中心点旋转多少度，单位为弧度（rad）。正值为逆时针方向旋转，默认值为<strong>0</strong>。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.center" target="_blank" rel="noopener noreferrer">center<ExternalLinkIcon/></a> : Vector2</p>
<ul>
<li>旋转中心点。(0.5, 0.5)对应纹理的正中心。默认值为(0,0)，即左下角。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.generateMipmaps" target="_blank" rel="noopener noreferrer">generateMipmaps<ExternalLinkIcon/></a> : Boolean</p>
<ul>
<li>是否为纹理生成 mipmap（如果可用）。默认为 true。 如果你手动生成 mipmap，请将其设为 false。</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.minFilter" target="_blank" rel="noopener noreferrer">minFilter<ExternalLinkIcon/></a> : number</p>
<ul>
<li>当一个纹素覆盖小于一个像素时，贴图将如何采样。默认值为 THREE.LinearMipmapLinearFilter， 它将使用 mipmapping 以及三次线性滤镜。</li>
</ul>
<p><strong>缩小滤镜</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestMipmapNearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestMipmapLinearFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">LinearFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">LinearMipmapNearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">LinearMipmapLinearFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>
<p>这些常量用于纹理的 minFilter 属性，它们定义了当被纹理化的像素映射到大于 1 纹理元素（texel）的区域时，将要使用的纹理缩小函数。</p>
</li>
<li>
<p>除了 NearestFilter 和 LinearFilter， 下面的四个函数也可以用于缩小：</p>
<ul>
<li>NearestMipmapNearestFilter 选择与被纹理化像素的尺寸最匹配的 mipmap， 并以 NearestFilter（最靠近像素中心的纹理元素）为标准来生成纹理值。</li>
<li>NearestMipmapLinearFilter 选择与被纹理化像素的尺寸最接近的两个 mipmap， 并以 NearestFilter 为标准来从每个 mipmap 中生成纹理值。最终的纹理值是这两个值的加权平均值。</li>
<li>LinearMipmapNearestFilter 选择与被纹理化像素的尺寸最匹配的 mipmap， 并以 LinearFilter（最靠近像素中心的四个纹理元素的加权平均值）为标准来生成纹理值。</li>
<li>LinearMipmapLinearFilter 是默认值，它选择与被纹理化像素的尺寸最接近的两个 mipmap， 并以 LinearFilter 为标准来从每个 mipmap 中生成纹理值。最终的纹理值是这两个值的加权平均值。</li>
</ul>
</li>
<li>
<p>请查看示例：<a href="https://threejs.org/examples/#webgl_materials_texture_filters" target="_blank" rel="noopener noreferrer">materials / texture / filters<ExternalLinkIcon/></a>。</p>
</li>
</ul>
<p><a href="https://threejs.org/docs/index.html#api/zh/textures/Texture.magFilter" target="_blank" rel="noopener noreferrer">magFilter<ExternalLinkIcon/></a> : number</p>
<ul>
<li>当一个纹素覆盖大于一个像素时，贴图将如何采样。默认值为 THREE.LinearFilter， 它将获取四个最接近的纹素，并在他们之间进行双线性插值。 另一个选项是 THREE.NearestFilter，它将使用最接近的纹素的值。</li>
<li>请参阅 texture constants 页面来了解详细信息。</li>
</ul>
<p><strong>放大滤镜</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">LinearFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>这些常量用于纹理的 magFilter 属性，它们定义了当被纹理化的像素映射到小于或者等于 1 纹理元素（texel）的区域时，将要使用的纹理放大函数。
<ul>
<li>NearestFilter 返回与指定纹理坐标（在曼哈顿距离之内）最接近的纹理元素的值。</li>
<li>LinearFilter 是默认值，返回距离指定的纹理坐标最近的四个纹理元素的加权平均值， 并且可以包含纹理的其他部分中，被包裹或者被重复的项目，具体取决于 wrapS 和 wrapT 的值，and on the exact mapping。</li>
</ul>
</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.repeat.x = 2;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.repeat.y = 3;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.wrapS = THREE.RepeatWrapping;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.wrapT = THREE.RepeatWrapping;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//镜像</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.wrapS = THREE.MirroredRepeatWrapping;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.wrapT = THREE.MirroredRepeatWrapping;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//纹理向左</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.offset.x = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//纹理向下</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.offset.y = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//旋转 以左下角为旋转中心 逆时针</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.rotation = Math.PI / 4;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//让中心点成为旋转中心</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.center.x = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.center.y = 0.5;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">colorTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">generateMipmaps</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//高精度 配合1024看效果</span></span>
<span class="line"><span style="color: #E5C07B">colorTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">minFilter</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//低精度 配合8看效果</span></span>
<span class="line"><span style="color: #E5C07B">colorTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">magFilter</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他形状" tabindex="-1"><a class="header-anchor" href="#其他形状" aria-hidden="true">#</a> 其他形状</h3>
<h4 id="球缓冲几何体" tabindex="-1"><a class="header-anchor" href="#球缓冲几何体" aria-hidden="true">#</a> <a href="https://threejs.org/docs/index.html?q=Sphere#api/zh/geometries/SphereGeometry" target="_blank" rel="noopener noreferrer">球缓冲几何体<ExternalLinkIcon/></a></h4>
<ul>
<li>一个用于生成球体的类。</li>
</ul>
<h5 id="构造器-10" tabindex="-1"><a class="header-anchor" href="#构造器-10" aria-hidden="true">#</a> 构造器</h5>
<p>SphereGeometry(radius : Float, widthSegments : Integer, heightSegments : Integer, phiStart : Float, phiLength : Float, thetaStart : Float, thetaLength : Float)</p>
<ul>
<li>radius — 球体半径，默认为 1。</li>
<li>widthSegments — 水平分段数（沿着经线分段），最小值为 3，默认值为 32。</li>
<li>heightSegments — 垂直分段数（沿着纬线分段），最小值为 2，默认值为 16。</li>
<li>phiStart — 指定水平（经线）起始角度，默认值为 0。。</li>
<li>phiLength — 指定水平（经线）扫描角度的大小，默认值为 Math.PI * 2。</li>
<li>thetaStart — 指定垂直（纬线）起始角度，默认值为 0。</li>
<li>thetaLength — 指定垂直（纬线）扫描角度大小，默认值为 Math.PI。</li>
</ul>
<p>该几何体是通过扫描并计算围绕着 Y 轴（水平扫描）和 X 轴（垂直扫描）的顶点来创建的。 因此，不完整的球体（类似<em>球形切片</em>）可以通过为 phiStart，phiLength，thetaStart 和 thetaLength 设置不同的值来创建， 以定义我们开始（或结束）计算这些顶点的起点（或终点）。</p>
<h4 id="圆锥缓冲几何体" tabindex="-1"><a class="header-anchor" href="#圆锥缓冲几何体" aria-hidden="true">#</a> <a href="https://threejs.org/docs/index.html?q=Cone#api/zh/geometries/ConeGeometry" target="_blank" rel="noopener noreferrer">圆锥缓冲几何体<ExternalLinkIcon/></a></h4>
<ul>
<li>一个用于生成圆锥几何体的类。</li>
</ul>
<h5 id="构造器-11" tabindex="-1"><a class="header-anchor" href="#构造器-11" aria-hidden="true">#</a> 构造器</h5>
<p>ConeGeometry(radius : Float, height : Float, radialSegments : Integer, heightSegments : Integer, openEnded : Boolean, thetaStart : Float, thetaLength : Float)</p>
<ul>
<li>radius — 圆锥底部的半径，默认值为 1。</li>
<li>height — 圆锥的高度，默认值为 1。</li>
<li>radialSegments — 圆锥侧面周围的分段数，默认为 8。</li>
<li>heightSegments — 圆锥侧面沿着其高度的分段数，默认值为 1。</li>
<li>openEnded — 一个 Boolean 值，指明该圆锥的底面是开放的还是封顶的。默认值为 false，即其底面默认是封顶的。</li>
<li>thetaStart — 第一个分段的起始角度，默认为 0。（three o'clock position）</li>
<li>thetaLength — 圆锥底面圆扇区的中心角，通常被称为“θ”（西塔）。默认值是 2*Pi，这使其成为一个完整的圆锥。</li>
</ul>
<h4 id="圆环缓冲几何体" tabindex="-1"><a class="header-anchor" href="#圆环缓冲几何体" aria-hidden="true">#</a> <a href="https://threejs.org/docs/index.html?q=Torus#api/zh/geometries/TorusGeometry" target="_blank" rel="noopener noreferrer">圆环缓冲几何体<ExternalLinkIcon/></a></h4>
<ul>
<li>一个用于生成圆环几何体的类。</li>
</ul>
<h5 id="构造器-12" tabindex="-1"><a class="header-anchor" href="#构造器-12" aria-hidden="true">#</a> 构造器</h5>
<p>TorusGeometry(radius : Float, tube : Float, radialSegments : Integer, tubularSegments : Integer, arc : Float)</p>
<ul>
<li>radius - 环面的半径，从环面的中心到管道横截面的中心。默认值是 1。</li>
<li>tube — 管道的半径，默认值为 0.4。</li>
<li>radialSegments — 管道横截面的分段数，默认值为 8。</li>
<li>tubularSegments — 管道的分段数，默认值为 6。</li>
<li>arc — 圆环的圆心角（单位是弧度），默认值为 Math.PI * 2。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #7F848E; font-style: italic">//球体</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">SphereBufferGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">32</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">32</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//圆锥</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">ConeBufferGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">32</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//圆环</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">TorusBufferGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.35</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">32</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">100</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="E:\Desktop\vuepress\docs\base\images\11-textures.png" alt="最终效果"></p>
<h3 id="完整代码-7" tabindex="-1"><a class="header-anchor" href="#完整代码-7" aria-hidden="true">#</a> 完整代码</h3>
<h4 id="html-8" tabindex="-1"><a class="header-anchor" href="#html-8" aria-hidden="true">#</a> HTML</h4>
<div class="language-html ext-html line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #ABB2BF">&lt;!</span><span style="color: #E06C75">DOCTYPE</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">lang</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;en&quot;</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">charset</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;UTF-8&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">meta</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">name</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;viewport&quot;</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">content</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;width=device-width, initial-scale=1.0&quot;</span><span style="color: #ABB2BF"> /&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;Textures&lt;/</span><span style="color: #E06C75">title</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">head</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">    &lt;</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">class</span><span style="color: #ABB2BF">=</span><span style="color: #98C379">&quot;webgl&quot;</span><span style="color: #ABB2BF">&gt;&lt;/</span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">  &lt;/</span><span style="color: #E06C75">body</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"><span style="color: #ABB2BF">&lt;/</span><span style="color: #E06C75">html</span><span style="color: #ABB2BF">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="css-3" tabindex="-1"><a class="header-anchor" href="#css-3" aria-hidden="true">#</a> CSS</h4>
<div class="language-css ext-css line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E06C75">*</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  margin: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  padding: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E06C75">html</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #E06C75">body</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  overflow: </span><span style="color: #D19A66">hidden</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D19A66">.webgl</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  position: </span><span style="color: #D19A66">fixed</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  top: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  left: </span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  outline: </span><span style="color: #D19A66">none</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="javascript-8" tabindex="-1"><a class="header-anchor" href="#javascript-8" aria-hidden="true">#</a> JavaScript</h4>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls.js&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//纹理  将图片转成纹理</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">LoadingManager</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">onStart</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;onStart&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">onLoad</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;onLoaded&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">onProgress</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;onProgress&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #E5C07B">loadingManager</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">onError</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">console</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">log</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;onError&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">TextureLoader</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">loadingManager</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const colorTexture = textureLoader.load(&#39;/textures/door/color.jpg&#39;);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const colorTexture = textureLoader.load(&#39;/textures/checkerboard-1024x1024.png&#39;);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const colorTexture = textureLoader.load(&#39;/textures/checkerboard-8x8.png&#39;);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">colorTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/minecraft.png&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">alphaTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/alpha.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">heightTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/height.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">normalTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/normal.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">ambientOcclusionTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/door/ambientOcclusion.jpg&#39;</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">metalnessTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/metalness.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">roughnessTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/roughness.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.repeat.x = 2;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.repeat.y = 3;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.wrapS = THREE.RepeatWrapping;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.wrapT = THREE.RepeatWrapping;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//镜像</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.wrapS = THREE.MirroredRepeatWrapping;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.wrapT = THREE.MirroredRepeatWrapping;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//纹理向左</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.offset.x = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//纹理向下</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.offset.y = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//旋转 以左下角为旋转中心 逆时针</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.rotation = Math.PI / 4;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//让中心点成为旋转中心</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.center.x = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// colorTexture.center.y = 0.5;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">colorTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">generateMipmaps</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//高精度 配合1024看效果</span></span>
<span class="line"><span style="color: #E5C07B">colorTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">minFilter</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//低精度 配合8看效果</span></span>
<span class="line"><span style="color: #E5C07B">colorTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">magFilter</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//方形</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BoxGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//球体</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const geometry = new THREE.SphereBufferGeometry(1, 32, 32);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//圆锥</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const geometry = new THREE.ConeBufferGeometry(1, 1, 32);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//圆环</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const geometry = new THREE.TorusBufferGeometry(1, 0.35, 32, 100);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//材料</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshBasicMaterial</span><span style="color: #ABB2BF">({ </span><span style="color: #E06C75">map</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">colorTexture</span><span style="color: #ABB2BF"> });</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">mesh</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">geometry</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">mesh</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//尺寸</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;resize&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新相机</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">aspect</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">updateProjectionMatrix</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新渲染器</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 透视相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 控制</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 动画</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新控制</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="材料" tabindex="-1"><a class="header-anchor" href="#材料" aria-hidden="true">#</a> 材料</h2>
<h3 id="textureloader-1" tabindex="-1"><a class="header-anchor" href="#textureloader-1" aria-hidden="true">#</a> <a href="https://threejs.org/docs/#api/zh/loaders/TextureLoader" target="_blank" rel="noopener noreferrer">TextureLoader<ExternalLinkIcon/></a></h3>
<ul>
<li>加载 texture 的一个类。 内部使用 ImageLoader 来加载文件。</li>
</ul>
<h3 id="cubetextureloader" tabindex="-1"><a class="header-anchor" href="#cubetextureloader" aria-hidden="true">#</a> <a href="https://threejs.org/docs/#api/zh/loaders/CubeTextureLoader" target="_blank" rel="noopener noreferrer">CubeTextureLoader<ExternalLinkIcon/></a></h3>
<ul>
<li>加载 CubeTexture 的一个类。 内部使用 ImageLoader 来加载文件。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=TextureLoader#api/zh/textures/Texture.minFilter" target="_blank" rel="noopener noreferrer">minFilter<ExternalLinkIcon/></a> : number</p>
<ul>
<li>
<p>当一个纹素覆盖小于一个像素时，贴图将如何采样。默认值为 THREE.LinearMipmapLinearFilter， 它将使用 mipmapping 以及三次线性滤镜。</p>
</li>
<li>
<p>请参阅 texture constants 页面来了解所有可能的选项。</p>
</li>
</ul>
<p><a href="https://threejs.org/docs/?q=TextureLoader#api/zh/textures/Texture.magFilter" target="_blank" rel="noopener noreferrer">magFilter<ExternalLinkIcon/></a> : number</p>
<ul>
<li>当一个纹素覆盖大于一个像素时，贴图将如何采样。默认值为 THREE.LinearFilter， 它将获取四个最接近的纹素，并在他们之间进行双线性插值。 另一个选项是 THREE.NearestFilter，它将使用最接近的纹素的值。
请参阅 texture constants 页面来了解详细信息。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=TextureLoader#api/zh/constants/Textures" target="_blank" rel="noopener noreferrer">放大滤镜<ExternalLinkIcon/></a>（Magnification Filters）</p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">LinearFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>
<p>这些常量用于纹理的 magFilter 属性，它们定义了当被纹理化的像素映射到小于或者等于 1 纹理元素（texel）的区域时，将要使用的纹理放大函数。</p>
</li>
<li>
<p>NearestFilter 返回与指定纹理坐标（在曼哈顿距离之内）最接近的纹理元素的值。</p>
</li>
<li>
<p>LinearFilter 是默认值，返回距离指定的纹理坐标最近的四个纹理元素的加权平均值， 并且可以包含纹理的其他部分中，被包裹或者被重复的项目，具体取决于 wrapS 和 wrapT 的值，and on the exact mapping。</p>
</li>
</ul>
<p><a href="https://threejs.org/docs/?q=TextureLoader#api/zh/textures/Texture.generateMipmaps" target="_blank" rel="noopener noreferrer">generateMipmaps<ExternalLinkIcon/></a> : Boolean</p>
<ul>
<li>是否为纹理生成 mipmap（如果可用）。默认为 true。 如果你手动生成 mipmap，请将其设为 false。</li>
</ul>
<h3 id="meshbasicmaterial" tabindex="-1"><a class="header-anchor" href="#meshbasicmaterial" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=MeshBasicMaterial#api/zh/materials/MeshBasicMaterial" target="_blank" rel="noopener noreferrer">MeshBasicMaterial<ExternalLinkIcon/></a></h3>
<ul>
<li>一个以简单着色（平面或线框）方式来绘制几何体的材质。这种材质不受光照的影响。</li>
</ul>
<h4 id="构造器-13" tabindex="-1"><a class="header-anchor" href="#构造器-13" aria-hidden="true">#</a> 构造器</h4>
<p><strong>MeshBasicMaterial( parameters : Object )</strong></p>
<ul>
<li>
<p>parameters - (可选)用于定义材质外观的对象，具有一个或多个属性。材质的任何属性都可以从此处传入(包括从 Material 继承的任何属性)。</p>
</li>
<li>
<p>属性 color 例外，其可以作为十六进制字符串传递，默认情况下为 <strong>0xffffff</strong>（白色），内部调用 Color.set(color)。</p>
</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshBasicMaterial#api/zh/materials/MeshBasicMaterial.map" target="_blank" rel="noopener noreferrer">map<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>颜色贴图。可以选择包括一个 alpha 通道，通常与.transparent 或.alphaTest。默认为 null。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshBasicMaterial#api/zh/materials/Material.transparent" target="_blank" rel="noopener noreferrer">transparent<ExternalLinkIcon/></a> : Boolean</p>
<ul>
<li>定义此材质是否透明。这对渲染有影响，因为透明对象需要特殊处理，并在非透明对象之后渲染。</li>
<li>设置为 true 时，通过设置材质的 opacity 属性来控制材质透明的程度。</li>
<li>默认值为<strong>false</strong>。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshBasicMaterial#api/zh/materials/Material.opacity" target="_blank" rel="noopener noreferrer">opacity<ExternalLinkIcon/></a> : Float</p>
<ul>
<li>在 0.0 - 1.0 的范围内的浮点数，表明材质的透明度。值<strong>0.0</strong>表示完全透明，<strong>1.0</strong>表示完全不透明。</li>
<li>如果材质的 transparent 属性未设置为<strong>true</strong>，则材质将保持完全不透明，此值仅影响其颜色。 默认值为<strong>1.0</strong>。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshBasicMaterial#api/zh/materials/MeshBasicMaterial.alphaMap" target="_blank" rel="noopener noreferrer">alphaMap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>alpha 贴图是一张灰度纹理，用于控制整个表面的不透明度。（黑色：完全透明；白色：完全不透明）。 默认值为 null。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshBasicMaterial#api/zh/materials/Material.side" target="_blank" rel="noopener noreferrer">side<ExternalLinkIcon/></a> : Integer</p>
<ul>
<li>定义将要渲染哪一面 - 正面，背面或两者。 默认为 THREE.FrontSide。其他选项有 THREE.BackSide 和 THREE.DoubleSide。</li>
</ul>
<p><strong>面</strong></p>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">FrontSide</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">BackSide</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">DoubleSide</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>定义了哪一边的面将会被渲染 —— 正面，或是反面，还是两个面都渲染。 默认值是 FrontSide（只渲染正面）。</li>
</ul>
<h3 id="meshnormalmaterial" tabindex="-1"><a class="header-anchor" href="#meshnormalmaterial" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=MeshNormalMaterial#api/zh/materials/MeshNormalMaterial" target="_blank" rel="noopener noreferrer">MeshNormalMaterial<ExternalLinkIcon/></a></h3>
<ul>
<li>一种把法向量映射到 RGB 颜色的材质。</li>
</ul>
<h4 id="构造器-14" tabindex="-1"><a class="header-anchor" href="#构造器-14" aria-hidden="true">#</a> 构造器</h4>
<p>MeshNormalMaterial( parameters : Object )</p>
<ul>
<li>parameters - (可选)用于定义材质外观的对象，具有一个或多个属性。材质的任何属性都可以从此处传入(包括从 Material 继承的任何属性)。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshNormalMaterial#api/zh/materials/MeshNormalMaterial.flatShading" target="_blank" rel="noopener noreferrer">flatShading<ExternalLinkIcon/></a> : Boolean</p>
<ul>
<li>定义材质是否使用平面着色进行渲染。默认值为 false。</li>
</ul>
<h3 id="meshmatcapmaterial" tabindex="-1"><a class="header-anchor" href="#meshmatcapmaterial" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=MeshMatcapMaterial#api/zh/materials/MeshMatcapMaterial" target="_blank" rel="noopener noreferrer">MeshMatcapMaterial<ExternalLinkIcon/></a></h3>
<ul>
<li>MeshMatcapMaterial 由一个材质捕捉（MatCap，或光照球（Lit Sphere））纹理所定义，其编码了材质的颜色与明暗。</li>
<li>由于 mapcap 图像文件编码了烘焙过的光照，因此 MeshMatcapMaterial 不对灯光作出反应。 它将会投射阴影到一个接受阴影的物体上(and shadow clipping works)，但不会产生自身阴影或是接受阴影。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshMatcapMaterial#api/zh/materials/MeshMatcapMaterial.matcap" target="_blank" rel="noopener noreferrer">matcap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>matcap 贴图，默认为 null。</li>
</ul>
<h3 id="meshdepthmaterial" tabindex="-1"><a class="header-anchor" href="#meshdepthmaterial" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=MeshDepthMaterial#api/zh/materials/MeshDepthMaterial" target="_blank" rel="noopener noreferrer">MeshDepthMaterial<ExternalLinkIcon/></a></h3>
<ul>
<li>一种按深度绘制几何体的材质。深度基于相机远近平面。白色最近，黑色最远。</li>
</ul>
<h3 id="meshlambertmaterial" tabindex="-1"><a class="header-anchor" href="#meshlambertmaterial" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=MeshLambertMaterial#api/zh/materials/MeshLambertMaterial" target="_blank" rel="noopener noreferrer">MeshLambertMaterial<ExternalLinkIcon/></a></h3>
<ul>
<li>一种非光泽表面的材质，没有镜面高光。</li>
<li>该材质使用基于非物理的<a href="https://en.wikipedia.org/wiki/Lambertian_reflectance" target="_blank" rel="noopener noreferrer">Lambertian<ExternalLinkIcon/></a>模型来计算反射率。 这可以很好地模拟一些表面（例如未经处理的木材或石材），但不能模拟具有镜面高光的光泽表面（例如涂漆木材）。</li>
<li>使用<a href="https://en.wikipedia.org/wiki/Gouraud_shading" target="_blank" rel="noopener noreferrer">Gouraud<ExternalLinkIcon/></a>着色模型计算着色。这将计算每个顶点的着色 （即在<a href="https://en.wikipedia.org/wiki/Shader#Vertex_shaders" target="_blank" rel="noopener noreferrer">vertex shader<ExternalLinkIcon/></a>中）并在多边形的面上插入结果。</li>
<li>由于反射率和光照模型的简单性，MeshPhongMaterial，MeshStandardMaterial 或者 MeshPhysicalMaterial 上使用这种材质时会以一些图形精度为代价，得到更高的性能。</li>
</ul>
<h3 id="meshphongmaterial" tabindex="-1"><a class="header-anchor" href="#meshphongmaterial" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=MeshPhongMaterial#api/zh/materials/MeshPhongMaterial" target="_blank" rel="noopener noreferrer">MeshPhongMaterial<ExternalLinkIcon/></a></h3>
<ul>
<li>
<p>一种用于具有镜面高光的光泽表面的材质。</p>
</li>
<li>
<p>该材质使用非物理的<a href="https://en.wikipedia.org/wiki/Blinn-Phong_shading_model" target="_blank" rel="noopener noreferrer">Blinn-Phong<ExternalLinkIcon/></a>模型来计算反射率。 与 MeshLambertMaterial 中使用的 Lambertian 模型不同，该材质可以模拟具有镜面高光的光泽表面（例如涂漆木材）。</p>
</li>
<li>
<p>使用<a href="https://en.wikipedia.org/wiki/Phong_shading" target="_blank" rel="noopener noreferrer">Phong<ExternalLinkIcon/></a>着色模型计算着色时，会计算每个像素的阴影（在<a href="https://en.wikipedia.org/wiki/Shader#Pixel_shaders" target="_blank" rel="noopener noreferrer">fragment shader<ExternalLinkIcon/></a>， AKA pixel shader 中），与 MeshLambertMaterial 使用的 Gouraud 模型相比，该模型的结果更准确，但代价是牺牲一些性能。 MeshStandardMaterial 和 MeshPhysicalMaterial 也使用这个着色模型。</p>
</li>
<li>
<p>在 MeshStandardMaterial 或 MeshPhysicalMaterial 上使用此材质时，性能通常会更高 ，但会牺牲一些图形精度。</p>
</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshPhongMaterial#api/zh/materials/MeshPhongMaterial.shininess" target="_blank" rel="noopener noreferrer">shininess<ExternalLinkIcon/></a> : Float</p>
<ul>
<li>specular 高亮的程度，越高的值越闪亮。默认值为 <strong>30</strong>。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshPhongMaterial#api/zh/materials/MeshPhongMaterial.specular" target="_blank" rel="noopener noreferrer">specular<ExternalLinkIcon/></a> : Color</p>
<ul>
<li>材质的高光颜色。默认值为<strong>0x111111</strong>（深灰色）的颜色 Color。</li>
<li>这定义了材质的光泽度和光泽的颜色。</li>
</ul>
<h3 id="meshtoonmaterial" tabindex="-1"><a class="header-anchor" href="#meshtoonmaterial" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=MeshToonMaterial#api/zh/materials/MeshToonMaterial" target="_blank" rel="noopener noreferrer">MeshToonMaterial<ExternalLinkIcon/></a></h3>
<ul>
<li>实现卡通着色的材料。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/materials/MeshToonMaterial.gradientMap" target="_blank" rel="noopener noreferrer">gradientMap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>卡通着色的渐变贴图。使用此类纹理时，需要将 Texture.minFilter 和 Texture.magFilter 设置为 THREE.NearestFilter。默认为空。</li>
</ul>
<h3 id="meshstandardmaterial" tabindex="-1"><a class="header-anchor" href="#meshstandardmaterial" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=MeshStandardMaterial#api/zh/materials/MeshStandardMaterial.envMap" target="_blank" rel="noopener noreferrer">MeshStandardMaterial<ExternalLinkIcon/></a></h3>
<ul>
<li>
<p>一种基于物理的标准材质，使用 Metallic-Roughness 工作流程。</p>
</li>
<li>
<p>基于物理的渲染（PBR）最近已成为许多 3D 应用程序的标准，例如<a href="https://blogs.unity3d.com/2014/10/29/physically-based-shading-in-unity-5-a-primer/" target="_blank" rel="noopener noreferrer">Unity<ExternalLinkIcon/></a>， <a href="https://docs.unrealengine.com/latest/INT/Engine/Rendering/Materials/PhysicallyBased/" target="_blank" rel="noopener noreferrer">Unreal<ExternalLinkIcon/></a>和 <a href="http://area.autodesk.com/blogs/the-3ds-max-blog/what039s-new-for-rendering-in-3ds-max-2017" target="_blank" rel="noopener noreferrer">3D Studio Max<ExternalLinkIcon/></a>。</p>
</li>
<li>
<p>这种方法与旧方法的不同之处在于，不使用近似值来表示光与表面的相互作用，而是使用物理上正确的模型。 我们的想法是，不是在特定照明下调整材质以使其看起来很好，而是可以创建一种材质，能够“正确”地应对所有光照场景。</p>
</li>
<li>
<p>在实践中，该材质提供了比 MeshLambertMaterial 或 MeshPhongMaterial 更精确和逼真的结果，代价是计算成本更高。</p>
</li>
<li>
<p>计算着色的方式与 MeshPhongMaterial 相同，都使用<a href="https://en.wikipedia.org/wiki/Phong_shading" target="_blank" rel="noopener noreferrer">Phong<ExternalLinkIcon/></a>着色模型， 这会计算每个像素的阴影（即在<a href="https://en.wikipedia.org/wiki/Shader#Pixel_shaders" target="_blank" rel="noopener noreferrer">fragment shader<ExternalLinkIcon/></a>， AKA pixel shader 中）， 与 MeshLambertMaterial 使用的 Gouraud 模型相比，该模型的结果更准确，但代价是牺牲一些性能。</p>
</li>
<li>
<p>请注意，为获得最佳效果，您在使用此材质时应始终指定 environment map。</p>
</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshStandardMaterial#api/zh/materials/MeshStandardMaterial.metalness" target="_blank" rel="noopener noreferrer">metalness<ExternalLinkIcon/></a> : Float</p>
<ul>
<li>材质与金属的相似度。非金属材质，如木材或石材，使用 0.0，金属使用 1.0，通常没有中间值。 默认值为 0.0。0.0 到 1.0 之间的值可用于生锈金属的外观。如果还提供了 metalnessMap，则两个值相乘。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=MeshStandardMaterial#api/zh/materials/MeshStandardMaterial.roughness" target="_blank" rel="noopener noreferrer">roughness<ExternalLinkIcon/></a> : Float</p>
<ul>
<li>材质的粗糙程度。0.0 表示平滑的镜面反射，1.0 表示完全漫反射。默认值为 1.0。如果还提供 roughnessMap，则两个值相乘。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/materials/MeshStandardMaterial.aoMap" target="_blank" rel="noopener noreferrer">aoMap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>该纹理的红色通道用作环境遮挡贴图。默认值为 null。aoMap 需要第二组 UV。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/materials/MeshStandardMaterial.aoMapIntensity" target="_blank" rel="noopener noreferrer">aoMapIntensity<ExternalLinkIcon/></a> : Float</p>
<ul>
<li>环境遮挡效果的强度。默认值为 1。零是不遮挡效果。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/materials/MeshStandardMaterial.displacementMap" target="_blank" rel="noopener noreferrer">displacementMap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>位移贴图会影响网格顶点的位置，与仅影响材质的光照和阴影的其他贴图不同，移位的顶点可以投射阴影，阻挡其他对象， 以及充当真实的几何体。位移纹理是指：网格的所有顶点被映射为图像中每个像素的值（白色是最高的），并且被重定位。</li>
</ul>
<p><a href="https://threejs.org/docs/#api/zh/materials/MeshStandardMaterial.displacementScale" target="_blank" rel="noopener noreferrer">displacementScale<ExternalLinkIcon/></a> : Float</p>
<ul>
<li>位移贴图对网格的影响程度（黑色是无位移，白色是最大位移）。如果没有设置位移贴图，则不会应用此值。默认值为 1。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=metalnessMap#api/zh/materials/MeshStandardMaterial.metalnessMap" target="_blank" rel="noopener noreferrer">metalnessMap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>该纹理的蓝色通道用于改变材质的金属度。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=metalnessMap#api/zh/materials/MeshStandardMaterial.roughnessMap" target="_blank" rel="noopener noreferrer">roughnessMap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>该纹理的绿色通道用于改变材质的粗糙度。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=metalnessMap#api/zh/materials/MeshStandardMaterial.normalMap" target="_blank" rel="noopener noreferrer">normalMap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>用于创建法线贴图的纹理。RGB 值会影响每个像素片段的曲面法线，并更改颜色照亮的方式。法线贴图不会改变曲面的实际形状，只会改变光照。 如果材质具有使用左手约定创作的法线贴图，则应该取消 normalScale 的 y 分量以补偿不同的手性。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=metalnessMap#api/zh/materials/MeshStandardMaterial.normalScale" target="_blank" rel="noopener noreferrer">normalScale<ExternalLinkIcon/></a> : Vector2</p>
<ul>
<li>法线贴图对材质的影响程度。典型范围是 0-1。默认值是 Vector2 设置为（1,1）。</li>
</ul>
<p><a href="https://threejs.org/docs/?q=metalnessMap#api/zh/materials/MeshStandardMaterial.envMap" target="_blank" rel="noopener noreferrer">envMap<ExternalLinkIcon/></a> : Texture</p>
<ul>
<li>环境贴图，为了能够保证物理渲染准确，您应该添加由 PMREMGenerator 预处理过的环境贴图，默认为 null。</li>
</ul>
<h3 id="ambientlight" tabindex="-1"><a class="header-anchor" href="#ambientlight" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=AmbientLight#api/zh/lights/AmbientLight" target="_blank" rel="noopener noreferrer">AmbientLight<ExternalLinkIcon/></a></h3>
<ul>
<li>环境光会均匀的照亮场景中的所有物体。</li>
<li>环境光不能用来投射阴影，因为它没有方向。</li>
</ul>
<h3 id="pointlight" tabindex="-1"><a class="header-anchor" href="#pointlight" aria-hidden="true">#</a> <a href="https://threejs.org/docs/?q=PointLight#api/zh/lights/PointLight" target="_blank" rel="noopener noreferrer">PointLight<ExternalLinkIcon/></a></h3>
<ul>
<li>从一个点向各个方向发射的光源。一个常见的例子是模拟一个灯泡发出的光。</li>
<li>该光源可以投射阴影 - 跳转至 PointLightShadow 查看更多细节。</li>
</ul>
<div class="language-javascript ext-js line-numbers-mode"><pre v-pre class="shiki" style="background-color: #282c34"><code><span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;./style.css&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">THREE</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> { </span><span style="color: #E06C75">OrbitControls</span><span style="color: #ABB2BF"> } </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;three/examples/jsm/controls/OrbitControls.js&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #C678DD">import</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">*</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">as</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">dat</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">from</span><span style="color: #ABB2BF"> </span><span style="color: #98C379">&#39;dat.gui&#39;</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//debug</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">dat</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">GUI</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 纹理</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">TextureLoader</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cubeTextureLoader</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">CubeTextureLoader</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">doorColorTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/color.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">doorAlphaTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/alpha.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">doorAmbientOcclusionTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/door/ambientOcclusion.jpg&#39;</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">doorHeightTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/height.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">doorNormalexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/normal.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">doorMetalnessTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/metalness.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">doorRoughnessTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/door/roughness.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">matcapTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/matcaps/1.png&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">gradientTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">textureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;/textures/gradients/3.jpg&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">gradientTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">minFilter</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">gradientTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">magFilter</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">NearestFilter</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">gradientTexture</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">generateMipmaps</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">false</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">environmentMapTexture</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">cubeTextureLoader</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">load</span><span style="color: #ABB2BF">([</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/environmentMaps/4/px.png&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/environmentMaps/4/nx.png&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/environmentMaps/4/py.png&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/environmentMaps/4/ny.png&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/environmentMaps/4/pz.png&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;/textures/environmentMaps/4/nz.png&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">]);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// DOM元素</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">canvas</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">document</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">querySelector</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;canvas.webgl&#39;</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 场景</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Scene</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//材料</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshBasicMaterial({ color: &#39;red&#39; });</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshBasicMaterial();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//设置地图</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.map = doorColorTexture;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//设置颜色</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.color.set(&#39;red&#39;);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.color = new THREE.Color(&#39;red&#39;);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//网格</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.wireframe = true;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//透明度</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.transparent = true;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.opacity = 0.5;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.alphaMap = doorAlphaTexture;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.side = THREE.BackSide</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.side = THREE.DoubleSide;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshNormalMaterial();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.wireframe = true;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//false更光滑,true的话增加纹理</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.flatShading = true;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshMatcapMaterial();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.matcap = matcapTexture;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//灯光对这种材质不起作用</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshDepthMaterial();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshLambertMaterial();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshPhongMaterial();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// //光的反射点</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.shininess = 100;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// //反射点颜色</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.specular = new THREE.Color(0xff0000);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshToonMaterial();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.gradientMap = gradientTexture;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// const material = new THREE.MeshStandardMaterial();</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// // material.metalness = 0.45;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// // material.roughness = 0.65;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.metalness = 0;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.roughness = 1;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.map = doorColorTexture;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//这两个要结合&#39;uv2&#39;使用，因为他需要两个uv2  后面的2代表两个uv2</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//目的是为了加深阴影</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.aoMap = doorAmbientOcclusionTexture;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.aoMapIntensity = 1;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//凸出显示displacementMap的东西,下面为凸出距离</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.displacementMap = doorHeightTexture;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.displacementScale = 0.05;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//该纹理的蓝色通道用于改变材质的金属度。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.metalnessMap = doorMetalnessTexture;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//该纹理的绿色通道用于改变材质的粗糙度。</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.roughnessMap = doorRoughnessTexture;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.normalMap = doorNormalexture;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.normalScale.set(0.5, 0.5);</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.transparent = true;</span></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.alphaMap = doorAlphaTexture;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">material</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">MeshStandardMaterial</span><span style="color: #ABB2BF">();</span></span>
<span class="line"><span style="color: #E5C07B">material</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">metalness</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.7</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">material</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">roughness</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">material</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">envMap</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">environmentMapTexture</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// material.wireframe = true;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;metalness&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">min</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">max</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">step</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.0001</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;roughness&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">min</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">max</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">step</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.0001</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;aoMapIntensity&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">min</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">max</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">10</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">step</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.0001</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">gui</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">material</span><span style="color: #ABB2BF">, </span><span style="color: #98C379">&#39;displacementScale&#39;</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">min</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">max</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">).</span><span style="color: #61AFEF">step</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.0001</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//球体</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sphere</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">SphereBufferGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">64</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">64</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">material</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">sphere</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">-</span><span style="color: #D19A66">1.5</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">sphere</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;uv2&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BufferAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sphere</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">attributes</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">uv</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">array</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//平面缓冲几何体</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">plane</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PlaneBufferGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">100</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">100</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">material</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">plane</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;uv2&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BufferAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">plane</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">attributes</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">uv</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">array</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 圆环缓冲几何体</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">torus</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Mesh</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">TorusBufferGeometry</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0.3</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.2</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">64</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">128</span><span style="color: #ABB2BF">),</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">material</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">torus</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1.5</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">torus</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setAttribute</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #98C379">&#39;uv2&#39;</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">BufferAttribute</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">torus</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">geometry</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">attributes</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">uv</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">array</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">)</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">sphere</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">plane</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">torus</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//灯光</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">ambientLight</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">AmbientLight</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0xffffff</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">ambientLight</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">pointLight</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PointLight</span><span style="color: #ABB2BF">(</span><span style="color: #D19A66">0xffffff</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">0.5</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">pointLight</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">pointLight</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">3</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">pointLight</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">4</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">pointLight</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//尺寸</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">: </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">addEventListener</span><span style="color: #ABB2BF">(</span><span style="color: #98C379">&#39;resize&#39;</span><span style="color: #ABB2BF">, () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新尺寸</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerWidth</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">innerHeight</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新相机</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">aspect</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">updateProjectionMatrix</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//透视相机</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">PerspectiveCamera</span><span style="color: #ABB2BF">(</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">75</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">/</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #D19A66">100</span></span>
<span class="line"><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">1</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">camera</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">position</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">z</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #E5C07B">scene</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">add</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">// 控制</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">OrbitControls</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">enableDamping</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">true</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//渲染</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">WebGLRenderer</span><span style="color: #ABB2BF">({</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">: </span><span style="color: #E06C75">canvas</span><span style="color: #ABB2BF">,</span></span>
<span class="line"><span style="color: #ABB2BF">});</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setSize</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">width</span><span style="color: #ABB2BF">, </span><span style="color: #E5C07B">sizes</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">height</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">setPixelRatio</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">Math</span><span style="color: #ABB2BF">.</span><span style="color: #56B6C2">min</span><span style="color: #ABB2BF">(</span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">devicePixelRatio</span><span style="color: #ABB2BF">, </span><span style="color: #D19A66">2</span><span style="color: #ABB2BF">));</span></span>
<span class="line"></span>
<span class="line"><span style="color: #7F848E; font-style: italic">//动画</span></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #C678DD">new</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">THREE</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">Clock</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> () </span><span style="color: #C678DD">=&gt;</span><span style="color: #ABB2BF"> {</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #C678DD">const</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">elapsedTime</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #E5C07B">clock</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">getElapsedTime</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">//更新对象</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sphere</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">plane</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">torus</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">y</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.1</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">sphere</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.15</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">plane</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.15</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">torus</span><span style="color: #ABB2BF">.</span><span style="color: #E5C07B">rotation</span><span style="color: #ABB2BF">.</span><span style="color: #E06C75">x</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">=</span><span style="color: #ABB2BF"> </span><span style="color: #D19A66">0.15</span><span style="color: #ABB2BF"> </span><span style="color: #56B6C2">*</span><span style="color: #ABB2BF"> </span><span style="color: #E06C75">elapsedTime</span><span style="color: #ABB2BF">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 更新控制</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">controls</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">update</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 渲染</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">renderer</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">render</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">scene</span><span style="color: #ABB2BF">, </span><span style="color: #E06C75">camera</span><span style="color: #ABB2BF">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #7F848E; font-style: italic">// 帧动画</span></span>
<span class="line"><span style="color: #ABB2BF">  </span><span style="color: #E5C07B">window</span><span style="color: #ABB2BF">.</span><span style="color: #61AFEF">requestAnimationFrame</span><span style="color: #ABB2BF">(</span><span style="color: #E06C75">tick</span><span style="color: #ABB2BF">);</span></span>
<span class="line"><span style="color: #ABB2BF">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #61AFEF">tick</span><span style="color: #ABB2BF">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div></template>
